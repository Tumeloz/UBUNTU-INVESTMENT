<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tesla Mata Investment Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #121212 0%, #0a0a0a 100%);
            color: #e0e0e0;
            position: relative;
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 80px;
        }
        
        /* Authentication Styles */
        .auth-container {
            background: linear-gradient(135deg, #0c1a2b, #1a3a5f);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            transition: transform 0.5s ease;
            overflow-y: auto;
        }
        
        .auth-container.hidden {
            transform: translateY(-100%);
        }
        
        .auth-box {
            max-width: 450px;
            width: 100%;
            background: rgba(10, 20, 30, 0.95);
            border-radius: 20px;
            box-shadow: 0 12px 30px rgba(0, 150, 255, 0.3);
            overflow: hidden;
            margin: 20px auto;
            transition: all 0.4s ease;
            border: 1px solid rgba(0, 150, 255, 0.2);
        }
        
        .auth-header {
            background: linear-gradient(to right, #0066cc 0%, #003366 100%);
            color: white;
            padding: 35px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .auth-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }
        
        .auth-header h1 {
            font-size: 42px;
            font-weight: 800;
            letter-spacing: 1.5px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { text-shadow: 0 0 10px rgba(0, 150, 255, 0.5); }
            50% { text-shadow: 0 0 15px rgba(0, 150, 255, 0.8), 0 0 20px rgba(0, 150, 255, 0.4); }
            100% { text-shadow: 0 0 10px rgba(0, 150, 255, 0.5); }
        }
        
        .auth-logo {
            font-size: 24px;
            margin-bottom: 10px;
            color: #fff;
            opacity: 0.9;
        }
        
        .form-container {
            padding: 35px 30px;
            position: relative;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .form-toggle {
            display: flex;
            background: rgba(20, 40, 80, 0.5);
            border-radius: 12px;
            padding: 5px;
            margin-bottom: 25px;
            border: 1px solid rgba(0, 150, 255, 0.2);
        }
        
        .toggle-btn {
            flex: 1;
            padding: 14px;
            text-align: center;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s ease;
            color: #b0d0ff;
        }
        
        .toggle-btn.active {
            background: linear-gradient(to right, #0066cc, #003366);
            color: white;
            box-shadow: 0 4px 10px rgba(0, 100, 200, 0.4);
        }
        
        .form-section {
            display: none;
        }
        
        .form-section.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 22px;
            position: relative;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #8cb8ff;
            font-size: 15px;
        }
        
        .input-with-icon {
            position: relative;
        }
        
        .input-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6a9eff;
        }
        
        .form-control {
            width: 100%;
            padding: 16px 16px 16px 48px;
            border: 2px solid rgba(0, 100, 200, 0.3);
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background-color: rgba(10, 30, 60, 0.5);
            color: #e0f0ff;
        }
        
        .form-control:focus {
            border-color: #0088ff;
            box-shadow: 0 0 0 4px rgba(0, 136, 255, 0.2);
            outline: none;
            background-color: rgba(15, 40, 80, 0.7);
        }
        
        .password-container {
            position: relative;
        }
        
        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #6a9eff;
        }
        
        .remember-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
        }
        
        .checkbox-container {
            display: flex;
            align-items: center;
        }
        
        .custom-checkbox {
            width: 22px;
            height: 22px;
            border: 2px solid rgba(0, 100, 200, 0.5);
            border-radius: 6px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            background: rgba(10, 30, 60, 0.5);
        }
        
        .custom-checkbox.checked {
            background-color: #0088ff;
            border-color: #0088ff;
        }
        
        .custom-checkbox.checked::after {
            content: "\f00c";
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            font-size: 12px;
            color: white;
        }
        
        .checkbox-label {
            font-size: 15px;
            color: #b0d0ff;
            cursor: pointer;
        }
        
        .forgot-link {
            color: #0088ff;
            text-decoration: none;
            font-weight: 600;
            font-size: 15px;
            transition: all 0.2s;
        }
        
        .forgot-link:hover {
            text-decoration: underline;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 18px;
            border-radius: 12px;
            border: none;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .btn-primary {
            background: linear-gradient(to right, #0088ff, #0066cc);
            color: white;
            box-shadow: 0 6px 15px rgba(0, 136, 255, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(rgba(255,255,255,0.1), transparent);
            transform: rotate(30deg);
            transition: all 0.5s;
        }
        
        .btn-primary:hover {
            background: linear-gradient(to right, #00a2ff, #0088ff);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 136, 255, 0.6);
        }
        
        .btn-primary:hover::after {
            transform: rotate(30deg) translate(10%, 10%);
        }
        
        .btn-secondary {
            background: transparent;
            color: #0088ff;
            font-weight: 600;
            border: 2px solid rgba(0, 136, 255, 0.3);
        }
        
        .btn-secondary:hover {
            background-color: rgba(0, 136, 255, 0.1);
            transform: translateY(-2px);
        }
        
        .verification-container {
            display: flex;
            gap: 10px;
        }
        
        .verification-input {
            flex: 1;
        }
        
        .send-code-btn {
            background: #0088ff;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0 15px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }
        
        .send-code-btn:hover {
            background: #00a2ff;
        }
        
        .send-code-btn:disabled {
            background: #555;
            cursor: not-allowed;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.3s ease;
            display: flex;
            align-items: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.error {
            background: #f44336;
        }
        
        .notification i {
            margin-right: 10px;
            font-size: 20px;
        }
        
        .notification-content {
            flex: 1;
        }
        
        .close-notification {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            margin-left: 15px;
        }
        
        .password-match {
            color: #f44336;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .reset-title {
            text-align: center;
            margin-bottom: 20px;
            color: #0088ff;
        }
        
        .back-to-login {
            display: block;
            text-align: center;
            margin-top: 15px;
            color: #0088ff;
            font-weight: 600;
            text-decoration: none;
        }
        
        /* Dashboard Styles */
        .dashboard-container {
            display: none;
        }
        
        /* Animated Background Elements */
        .snowflake, .clover {
            position: absolute;
            top: -50px;
            z-index: 0;
            color: rgba(255, 255, 255, 0.6);
            font-size: 20px;
            pointer-events: none;
            animation-timing-function: linear, ease-in-out;
            animation-iteration-count: infinite;
        }
        
        .snowflake {
            color: #a0d6ff;
            animation-name: snowfall, sway;
        }
        
        .clover {
            color: #4caf50;
            animation-name: snowfall, sway;
        }
        
        @keyframes snowfall {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0.1; }
        }
        
        @keyframes sway {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(15px); }
        }
        
        .container {
            max-width: 480px;
            margin: 0 auto;
            background: rgba(20, 20, 20, 0.85);
            min-height: 100vh;
            box-shadow: 0 0 30px rgba(0, 150, 255, 0.2);
            position: relative;
            z-index: 10;
            backdrop-filter: blur(4px);
            border-left: 1px solid rgba(0, 150, 255, 0.2);
            border-right: 1px solid rgba(0, 150, 255, 0.2);
            padding-bottom: 80px;
        }
        
        header {
            background: linear-gradient(to right, #0066cc 0%, #003366 100%);
            color: #e0f0ff;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            border-bottom: 2px solid #00a2ff;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(0, 150, 255, 0.5);
            animation: pulse 2s infinite;
        }
        
        .language-selector {
            font-size: 14px;
            padding: 5px 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            color: #00a2ff;
            border: 1px solid #0088ff;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .language-selector:hover {
            background: rgba(0, 0, 0, 0.5);
            transform: scale(1.05);
        }
        
        .top-nav {
            display: flex;
            justify-content: space-around;
            background: rgba(30, 30, 30, 0.9);
            padding: 12px 0;
            border-bottom: 1px solid rgba(0, 150, 255, 0.3);
            border-top: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .top-nav a {
            color: #6a9eff;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 15px;
            transition: all 0.3s ease;
        }
        
        .top-nav a:hover {
            color: #00a2ff;
            background: rgba(0, 100, 200, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .section {
            display: none;
            padding: 20px;
        }
        
        .section.active {
            display: block;
        }
        
        .investment-card {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4), 0 0 20px rgba(0, 150, 255, 0.1);
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 150, 255, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .investment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5), 0 0 30px rgba(0, 150, 255, 0.2);
        }
        
        .investment-card:before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 150, 255, 0.1) 0%, transparent 70%);
            z-index: 1;
            pointer-events: none;
        }
        
        .investment-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #00a2ff;
            position: relative;
            z-index: 2;
        }
        
        .price-cycle {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 15px;
            color: #b0b0b0;
            position: relative;
            z-index: 2;
        }
        
        .income-stats {
            display: flex;
            justify-content: space-between;
            background: rgba(30, 40, 60, 0.7);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border: 1px solid rgba(0, 150, 255, 0.2);
            position: relative;
            z-index: 2;
        }
        
        .income-item {
            text-align: center;
            flex: 1;
        }
        
        .income-value {
            font-weight: bold;
            font-size: 18px;
            color: #0088ff;
            margin-bottom: 5px;
        }
        
        .income-label {
            font-size: 13px;
            color: #a0a0a0;
        }
        
        .invest-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            z-index: 2;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            letter-spacing: 0.5px;
        }
        
        .invest-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4), 0 0 20px rgba(0, 150, 255, 0.4);
            background: linear-gradient(to right, #00a2ff 0%, #0088ff 100%);
        }
        
        .share-income-bar {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }
        
        .share-btn, .income-btn {
            padding: 14px 20px;
            border-radius: 10px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            flex: 1;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .share-btn {
            background: rgba(40, 50, 70, 0.8);
            color: #6a9eff;
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .share-btn:hover {
            background: rgba(50, 60, 80, 0.9);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }
        
        .income-btn {
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
            border: none;
        }
        
        .income-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4), 0 0 20px rgba(0, 150, 255, 0.4);
            background: linear-gradient(to right, #00a2ff 0%, #0088ff 100%);
        }
        
        /* Promotion Section */
        .section-title {
            font-size: 24px;
            margin-bottom: 25px;
            color: #00a2ff;
            text-align: center;
            position: relative;
        }
        
        .section-title:after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(to right, transparent, #0088ff, transparent);
        }
        
        .invite-section {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .invite-label {
            font-size: 16px;
            margin-bottom: 12px;
            color: #6a9eff;
        }
        
        .link-box {
            display: flex;
            justify-content: space-between;
            background: rgba(30, 40, 60, 0.7);
            border: 1px solid rgba(0, 150, 255, 0.3);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 15px;
        }
        
        .link-text {
            font-size: 14px;
            color: #b0b0b0;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            flex: 1;
        }
        
        .copy-btn {
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
            border: none;
            border-radius: 6px;
            padding: 6px 15px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 10px;
        }
        
        .copy-btn:hover {
            background: linear-gradient(to right, #00a2ff 0%, #0088ff 100%);
            transform: scale(1.05);
        }
        
        .divider {
            height: 1px;
            background: linear-gradient(to right, transparent, rgba(0, 150, 255, 0.3), transparent);
            margin: 25px 0;
        }
        
        .rebate-title {
            font-size: 20px;
            margin-bottom: 20px;
            color: #00a2ff;
            text-align: center;
        }
        
        .rebate-table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid rgba(0, 150, 255, 0.3);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .rebate-table th, .rebate-table td {
            border: 1px solid rgba(0, 150, 255, 0.3);
            padding: 14px;
            text-align: center;
        }
        
        .rebate-table th {
            background: rgba(40, 60, 90, 0.9);
            color: #6a9eff;
            font-weight: 600;
        }
        
        .rebate-table td {
            background: rgba(35, 55, 85, 0.8);
            color: #e0e0e0;
        }
        
        /* Mine Section */
        .user-info {
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
            border-radius: 16px;
            padding: 25px 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .user-info:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: rgba(255, 255, 255, 0.3);
        }
        
        .phone-number {
            font-size: 20px;
            margin-bottom: 8px;
            position: relative;
            z-index: 2;
        }
        
        .total-balance {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
            position: relative;
            z-index: 2;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
        
        .balance-label {
            font-size: 15px;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }
        
        .stats-container {
            display: flex;
            background: rgba(40, 50, 70, 0.8);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .stat-item {
            flex: 1;
            padding: 20px;
            text-align: center;
            border-right: 1px solid rgba(0, 150, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .stat-item:hover {
            background: rgba(50, 60, 80, 0.9);
        }
        
        .stat-item:last-child {
            border-right: none;
        }
        
        .stat-value {
            font-size: 22px;
            font-weight: bold;
            color: #00a2ff;
            margin-bottom: 8px;
        }
        
        .stat-label {
            font-size: 14px;
            color: #b0b0b0;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .action-btn {
            flex: 1;
            padding: 16px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .recharge-btn {
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
        }
        
        .recharge-btn:hover {
            background: linear-gradient(to right, #00a2ff 0%, #0088ff 100%);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }
        
        .withdraw-btn {
            background: rgba(40, 50, 70, 0.8);
            color: #6a9eff;
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .withdraw-btn:hover {
            background: rgba(50, 60, 80, 0.9);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }
        
        .services-section {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 150, 255, 0.3);
            margin-bottom: 20px;
        }
        
        .services-title {
            font-size: 20px;
            margin-bottom: 20px;
            color: #00a2ff;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .service-list {
            list-style: none;
        }
        
        .service-item {
            padding: 16px 0;
            border-bottom: 1px solid rgba(0, 150, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #e0e0e0;
            transition: all 0.3s ease;
        }
        
        .service-item:hover {
            color: #00a2ff;
            transform: translateX(5px);
        }
        
        .service-item:last-child {
            border-bottom: none;
        }
        
        .service-item i {
            color: #6a9eff;
            transition: all 0.3s ease;
        }
        
        .service-item:hover i {
            color: #00a2ff;
            transform: translateX(5px);
        }
        
        /* Bottom Navigation - Fixed at all times */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(30, 40, 60, 0.95);
            display: flex;
            justify-content: space-around;
            border-top: 1px solid rgba(0, 150, 255, 0.3);
            padding: 12px 0;
            max-width: 480px;
            margin: 0 auto;
            z-index: 100;
            backdrop-filter: blur(5px);
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.4);
            border-radius: 20px 20px 0 0;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #a0a0a0;
            font-size: 12px;
            padding: 8px 15px;
            transition: all 0.3s ease;
            border-radius: 15px;
        }
        
        .nav-item i {
            font-size: 22px;
            margin-bottom: 5px;
            transition: all 0.3s ease;
        }
        
        .nav-item.active, .nav-item:hover {
            color: #00a2ff;
            transform: translateY(-5px);
        }
        
        .nav-item.active i, .nav-item:hover i {
            color: #00a2ff;
            transform: scale(1.1);
            text-shadow: 0 0 10px rgba(0, 150, 255, 0.5);
        }
        
        /* Crypto Ticker */
        .crypto-ticker {
            background: rgba(0, 0, 0, 0.4);
            padding: 10px 0;
            overflow: hidden;
            white-space: nowrap;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 1px solid rgba(0, 150, 255, 0.2);
        }
        
        .ticker-content {
            display: inline-block;
            padding-left: 100%;
            animation: ticker 25s linear infinite;
        }
        
        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        
        .ticker-item {
            display: inline-block;
            padding: 0 20px;
            font-size: 14px;
        }
        
        .ticker-item.up {
            color: #4CAF50;
        }
        
        .ticker-item.down {
            color: #F44336;
        }
        
        .ticker-item .crypto-name {
            font-weight: bold;
            color: #6a9eff;
        }
        
        /* New Features */
        .feature-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: linear-gradient(45deg, #0088ff, #00a2ff);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 3;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            animation: pulse 2s infinite;
        }
        
        .invest-progress {
            height: 6px;
            background: rgba(100, 100, 100, 0.3);
            border-radius: 3px;
            margin: 15px 0;
            overflow: hidden;
            position: relative;
            z-index: 2;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #0088ff, #00a2ff);
            width: 65%;
            border-radius: 3px;
            animation: progress-pulse 2s infinite;
        }
        
        @keyframes progress-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .profit-animation {
            position: absolute;
            top: 0;
            right: 0;
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
            font-weight: bold;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
            animation: floatUp 4s ease-out;
            opacity: 0;
        }
        
        @keyframes floatUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-50px); opacity: 0; }
        }
        
        .gold-border {
            border: 2px solid transparent;
            border-radius: 16px;
            background-clip: padding-box;
            position: relative;
        }
        
        .gold-border:after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #0088ff, #00a2ff, #0088ff);
            border-radius: 18px;
            z-index: -1;
            animation: border-glow 3s infinite;
        }
        
        @keyframes border-glow {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.4; }
        }
        
        /* New Investment Tiers */
        .premium-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: linear-gradient(45deg, #9C27B0, #673AB7);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 3;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            animation: pulse 2s infinite;
        }
        
        .elite-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: linear-gradient(45deg, #2196F3, #03A9F4);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 3;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            animation: pulse 2s infinite;
        }
        
        .vip-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: linear-gradient(45deg, #FF5722, #FF9800);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 3;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            animation: pulse 2s infinite;
        }
        
        /* Responsive adjustments */
        @media (max-width: 480px) {
            .container {
                box-shadow: none;
                border-left: none;
                border-right: none;
            }
            
            .bottom-nav {
                border-radius: 20px 20px 0 0;
            }
            
            .form-container {
                max-height: 60vh;
                overflow-y: auto;
            }
        }
        
        /* Security Notice */
        .security-notice {
            background: rgba(40, 50, 70, 0.8);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            border-left: 4px solid #0088ff;
            font-size: 14px;
            color: #e0e0e0;
        }
        
        .security-notice i {
            color: #0088ff;
            margin-right: 10px;
        }
        
        /* Recharge Section Styles */
        .recharge-section {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 150, 255, 0.3);
        }

        .recharge-form {
            margin-top: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #6a9eff;
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            background: rgba(30, 40, 60, 0.7);
            border: 1px solid rgba(0, 150, 255, 0.3);
            border-radius: 10px;
            color: #e0e0e0;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #0088ff;
            box-shadow: 0 0 0 2px rgba(0, 136, 255, 0.3);
        }

        .bank-details {
            background: rgba(30, 40, 60, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            border: 1px solid rgba(0, 150, 255, 0.3);
        }

        .bank-detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 150, 255, 0.1);
        }

        .bank-detail-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .bank-detail-label {
            color: #b0b0b0;
            font-weight: 500;
        }

        .bank-detail-value {
            color: #00a2ff;
            font-weight: bold;
            text-align: right;
        }

        .copy-bank-btn {
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
            border: none;
            border-radius: 6px;
            padding: 8px 15px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            width: 100%;
            margin-top: 10px;
        }

        .copy-bank-btn:hover {
            background: linear-gradient(to right, #00a2ff 0%, #0088ff 100%);
            transform: scale(1.02);
        }

        .submit-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            font-size: 16px;
        }

        .submit-btn:hover {
            background: linear-gradient(to right, #00a2ff 0%, #0088ff 100%);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }

        .countdown-container {
            text-align: center;
            margin: 20px 0;
            display: none;
        }

        .countdown-title {
            color: #6a9eff;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .countdown-timer {
            font-size: 24px;
            font-weight: bold;
            color: #00a2ff;
            margin-bottom: 20px;
        }

        .paid-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(to right, #4CAF50, #2E7D32);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            font-size: 16px;
            display: none;
        }

        .paid-btn:hover {
            background: linear-gradient(to right, #66BB6A, #388E3C);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }

        .success-message {
            text-align: center;
            color: #4CAF50;
            font-weight: bold;
            margin: 20px 0;
            display: none;
        }

        .note-text {
            font-size: 13px;
            color: #b0b0b0;
            margin-top: 15px;
            text-align: center;
        }
        
        /* Daily stock indicator */
        .daily-stock {
            text-align: center;
            margin: 10px 0;
            font-size: 14px;
            color: #b0b0b0;
        }
        
        .daily-stock-value {
            font-weight: bold;
            color: #0088ff;
        }
        
        /* Purchase history */
        .purchase-history {
            background: rgba(30, 40, 60, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .history-title {
            font-size: 18px;
            margin-bottom: 15px;
            color: #6a9eff;
            text-align: center;
        }
        
        .history-item {
            padding: 10px;
            border-bottom: 1px solid rgba(0, 150, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        /* NEW: Investment Portfolio */
        .portfolio-section {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 150, 255, 0.3);
            margin-bottom: 20px;
        }
        
        .portfolio-item {
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 150, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .portfolio-item:last-child {
            border-bottom: none;
        }
        
        .portfolio-info {
            flex: 1;
        }
        
        .portfolio-name {
            font-weight: bold;
            color: #00a2ff;
            margin-bottom: 5px;
        }
        
        .portfolio-meta {
            font-size: 13px;
            color: #b0b0b0;
            display: flex;
            gap: 15px;
        }
        
        .portfolio-stats {
            text-align: right;
        }
        
        .portfolio-income {
            font-weight: bold;
            color: #0088ff;
            margin-bottom: 5px;
        }
        
        .portfolio-duration {
            font-size: 13px;
            color: #b0b0b0;
        }
        
        /* NEW: Transaction History */
        .transaction-history {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .transaction-item {
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 150, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .transaction-item:last-child {
            border-bottom: none;
        }
        
        .transaction-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .transaction-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .transaction-icon.deposit {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
        }
        
        .transaction-icon.withdrawal {
            background: rgba(244, 67, 54, 0.2);
            color: #F44336;
        }
        
        .transaction-icon.investment {
            background: rgba(255, 193, 7, 0.2);
            color: #FFC107;
        }
        
        .transaction-details {
            flex: 1;
        }
        
        .transaction-type {
            font-weight: bold;
            color: #00a2ff;
            margin-bottom: 3px;
        }
        
        .transaction-date {
            font-size: 13px;
            color: #b0b0b0;
        }
        
        .transaction-amount {
            font-weight: bold;
            font-size: 16px;
        }
        
        .transaction-amount.deposit {
            color: #4CAF50;
        }
        
        .transaction-amount.withdrawal {
            color: #F44336;
        }
        
        .transaction-amount.investment {
            color: #FFC107;
        }
        
        .no-items {
            text-align: center;
            padding: 20px;
            color: #b0b0b0;
            font-style: italic;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            background: rgba(30, 40, 60, 0.7);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #b0b0b0;
            font-weight: 500;
        }
        
        .tab.active {
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }

        /* Reward Section */
        .reward-section {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 150, 255, 0.3);
            text-align: center;
        }

        .reward-title {
            font-size: 22px;
            margin-bottom: 15px;
            color: #00a2ff;
        }

        .reward-description {
            font-size: 14px;
            color: #b0b0b0;
            margin-bottom: 20px;
        }

        .reward-time {
            font-size: 16px;
            color: #6a9eff;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .reward-btn {
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
            border: none;
            border-radius: 10px;
            padding: 14px 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 0;
            width: 100%;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .reward-btn:hover {
            background: linear-gradient(to right, #00a2ff 0%, #0088ff 100%);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }

        .reward-btn:disabled {
            background: #555;
            color: #999;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .reward-result {
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
            color: #00a2ff;
            display: none;
        }

        /* Bank Account Section */
        .bank-account-section {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 150, 255, 0.3);
        }

        .bank-account-title {
            font-size: 20px;
            margin-bottom: 20px;
            color: #00a2ff;
            text-align: center;
        }

        .bank-form-group {
            margin-bottom: 20px;
        }

        .bank-form-label {
            display: block;
            margin-bottom: 8px;
            color: #6a9eff;
            font-weight: 500;
        }

        .bank-form-input {
            width: 100%;
            padding: 12px 15px;
            background: rgba(30, 40, 60, 0.7);
            border: 1px solid rgba(0, 150, 255, 0.3);
            border-radius: 10px;
            color: #e0e0e0;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .bank-form-input:focus {
            outline: none;
            border-color: #0088ff;
            box-shadow: 0 0 0 2px rgba(0, 136, 255, 0.3);
        }

        .bank-form-select {
            width: 100%;
            padding: 12px 15px;
            background: rgba(30, 40, 60, 0.7);
            border: 1px solid rgba(0, 150, 255, 0.3);
            border-radius: 10px;
            color: #e0e0e0;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .bank-form-select:focus {
            outline: none;
            border-color: #0088ff;
            box-shadow: 0 0 0 2px rgba(0, 136, 255, 0.3);
        }

        .bind-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            font-size: 16px;
        }

        .bind-btn:hover {
            background: linear-gradient(to right, #00a2ff 0%, #0088ff 100%);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }

        .bank-details-display {
            background: rgba(30, 40, 60, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            border: 1px solid rgba(0, 150, 255, 0.3);
            display: none;
        }

        .bank-detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 150, 255, 0.1);
        }

        .bank-detail-row:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .bank-detail-label {
            color: #b0b0b0;
            font-weight: 500;
        }

        .bank-detail-value {
            color: #00a2ff;
            font-weight: bold;
        }

        /* Security Section */
        .security-section {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 150, 255, 0.3);
        }

        .security-title {
            font-size: 20px;
            margin-bottom: 20px;
            color: #00a2ff;
            text-align: center;
        }

        .security-form-group {
            margin-bottom: 20px;
        }

        .security-form-label {
            display: block;
            margin-bottom: 8px;
            color: #6a9eff;
            font-weight: 500;
        }

        .security-form-input {
            width: 100%;
            padding: 12px 15px;
            background: rgba(30, 40, 60, 0.7);
            border: 1px solid rgba(0, 150, 255, 0.3);
            border-radius: 10px;
            color: #e0e0e0;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .security-form-input:focus {
            outline: none;
            border-color: #0088ff;
            box-shadow: 0 0 0 2px rgba(0, 136, 255, 0.3);
        }

        .update-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(to right, #0088ff 0%, #0066cc 100%);
            color: #e0f0ff;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            font-size: 16px;
        }

        .update-btn:hover {
            background: linear-gradient(to right, #00a2ff 0%, #0088ff 100%);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }

        .success-message {
            text-align: center;
            color: #4CAF50;
            font-weight: bold;
            margin: 20px 0;
            display: none;
        }
        
        /* Invitation code input */
        .invite-code-container {
            position: relative;
            margin-bottom: 22px;
        }
        
        .invite-code-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #8cb8ff;
            font-size: 15px;
        }
        
        .invite-code-input {
            width: 100%;
            padding: 16px 16px 16px 48px;
            border: 2px solid rgba(0, 100, 200, 0.3);
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background-color: rgba(10, 30, 60, 0.5);
            color: #e0f0ff;
        }
        
        .invite-code-input:focus {
            border-color: #0088ff;
            box-shadow: 0 0 0 4px rgba(0, 136, 255, 0.2);
            outline: none;
            background-color: rgba(15, 40, 80, 0.7);
        }
        
        .invite-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6a9eff;
        }
        
        /* Withdrawal Section */
        .withdraw-section {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .withdraw-form {
            margin-top: 20px;
        }
        
        .fee-info {
            background: rgba(30, 40, 60, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            border: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .fee-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 150, 255, 0.1);
        }
        
        .fee-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .fee-label {
            color: #b0b0b0;
            font-weight: 500;
        }
        
        .fee-value {
            color: #00a2ff;
            font-weight: bold;
            text-align: right;
        }
        
        .withdraw-note {
            font-size: 14px;
            color: #b0b0b0;
            margin: 15px 0;
            text-align: center;
            padding: 10px;
            background: rgba(30, 40, 60, 0.7);
            border-radius: 8px;
            border-left: 3px solid #0088ff;
        }
        
        .withdraw-note i {
            color: #0088ff;
            margin-right: 5px;
        }
        
        /* Logout Button */
        .logout-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(to right, #f44336, #d32f2f);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            font-size: 16px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .logout-btn:hover {
            background: linear-gradient(to right, #e53935, #c62828);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }

        /* Team Management Section */
        .team-management {
            background: linear-gradient(to bottom, rgba(30, 50, 80, 0.8), rgba(20, 40, 70, 0.9));
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 150, 255, 0.3);
        }

        .team-management-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .back-to-team {
            background: #555;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .team-category {
            margin-bottom: 20px;
        }

        .team-category-title {
            font-size: 18px;
            color: #00a2ff;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 150, 255, 0.3);
        }

        .team-member {
            padding: 12px;
            border-radius: 8px;
            background: rgba(30, 40, 60, 0.7);
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(0, 150, 255, 0.2);
        }

        .member-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .member-status {
            font-size: 12px;
            padding: 3px 8px;
            border-radius: 10px;
        }

        .status-active {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
        }

        .status-inactive {
            background: rgba(244, 67, 54, 0.2);
            color: #F44336;
        }

        .member-investment {
            font-size: 14px;
            color: #6a9eff;
        }

        /* Confirmation Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            display: none;
        }

        .confirmation-modal {
            background: rgba(30, 40, 60, 0.95);
            border-radius: 16px;
            padding: 25px;
            width: 90%;
            max-width: 400px;
            border: 2px solid #0088ff;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .modal-title {
            font-size: 22px;
            color: #00a2ff;
            margin-bottom: 15px;
            text-align: center;
        }

        .modal-content {
            margin-bottom: 25px;
            text-align: center;
            color: #e0e0e0;
            line-height: 1.6;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
        }

        .modal-btn {
            flex: 1;
            padding: 12px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-confirm {
            background: linear-gradient(to right, #4CAF50, #2E7D32);
            color: white;
        }

        .modal-cancel {
            background: rgba(100, 100, 100, 0.8);
            color: #e0e0e0;
        }

        .modal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        /* Detailed Countdown */
        .detailed-countdown {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .countdown-unit {
            text-align: center;
            background: rgba(30, 40, 60, 0.7);
            padding: 10px;
            border-radius: 10px;
            min-width: 60px;
            border: 1px solid rgba(0, 150, 255, 0.3);
        }

        .countdown-value {
            font-size: 24px;
            font-weight: bold;
            color: #00a2ff;
        }

        .countdown-label {
            font-size: 12px;
            color: #b0b0b0;
            text-transform: uppercase;
        }
        
        /* AI Assistant */
        .ai-assistant {
            position: fixed;
            bottom: 90px;
            right: 20px;
            z-index: 1000;
        }
        
        .ai-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00a2ff, #0088ff);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            animation: pulse 2s infinite;
        }
        
        .ai-button i {
            font-size: 24px;
            color: white;
        }
        
        .ai-chatbox {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 300px;
            height: 400px;
            background: rgba(30, 40, 60, 0.95);
            border-radius: 15px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.5);
            border: 1px solid #0088ff;
            display: none;
            flex-direction: column;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        .ai-header {
            background: linear-gradient(to right, #0088ff, #0066cc);
            padding: 15px;
            color: white;
            font-weight: bold;
            text-align: center;
        }
        
        .ai-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .ai-message {
            max-width: 80%;
            padding: 10px;
            border-radius: 10px;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .ai-message.user {
            background: rgba(0, 136, 255, 0.2);
            align-self: flex-end;
            color: #e0f0ff;
        }
        
        .ai-message.bot {
            background: rgba(40, 60, 90, 0.7);
            align-self: flex-start;
            color: #e0f0ff;
        }
        
        .ai-input-container {
            display: flex;
            padding: 10px;
            border-top: 1px solid rgba(0, 150, 255, 0.3);
        }
        
        .ai-input {
            flex: 1;
            padding: 10px;
            border-radius: 20px;
            background: rgba(30, 40, 60, 0.7);
            border: 1px solid rgba(0, 150, 255, 0.3);
            color: #e0e0e0;
            outline: none;
        }
        
        .ai-send {
            background: #0088ff;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 10px;
            cursor: pointer;
            color: white;
        }
        
        /* Payment Verification */
        .verification-process {
            text-align: center;
            padding: 20px;
            display: none;
        }
        
        .verification-message {
            margin: 15px 0;
            font-size: 16px;
            color: #00a2ff;
        }
        
        .verification-warning {
            color: #f44336;
            font-weight: bold;
            margin: 10px 0;
            padding: 10px;
            background: rgba(244, 67, 54, 0.1);
            border-radius: 8px;
            border: 1px solid #f44336;
        }
        
        /* New Payment Confirmation Modal */
        .payment-confirm-modal {
            background: rgba(30, 40, 60, 0.95);
            border-radius: 16px;
            padding: 25px;
            width: 90%;
            max-width: 400px;
            border: 2px solid #f44336;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .warning-icon {
            text-align: center;
            font-size: 48px;
            color: #f44336;
            margin-bottom: 15px;
        }
        
        /* Invitation Link Generator */
        .invite-link-generator {
            margin-top: 15px;
            text-align: center;
        }
        
        .generate-btn {
            background: linear-gradient(to right, #9C27B0, #673AB7);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 15px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 5px;
        }
        
        .generate-btn:hover {
            background: linear-gradient(to right, #BA68C8, #9575CD);
        }
        
        /* Advanced Animation Effects */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        
        /* 3D Card Effect */
        .card-3d {
            transform: perspective(1000px) rotateY(0deg);
            transition: transform 0.5s ease;
        }
        
        .card-3d:hover {
            transform: perspective(1000px) rotateY(5deg);
        }
        
        /* Glassmorphism Effect */
        .glass-effect {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <!-- Authentication Section -->
    <div class="auth-container" id="authContainer">
        <div class="auth-box">
            <div class="auth-header">
                <div class="auth-logo"><i class="fas fa-chart-line"></i></div>
                <h1>TESLA MATA</h1>
                <p>Premium Investment Platform</p>
            </div>
            
            <div class="form-container">
                <div class="form-toggle">
                    <div class="toggle-btn active" data-target="login-form">Login</div>
                    <div class="toggle-btn" data-target="register-form">Register</div>
                </div>
                
                <!-- Login Form -->
                <div id="login-form" class="form-section active">
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <div class="input-with-icon">
                            <i class="fas fa-phone input-icon"></i>
                            <input type="tel" class="form-control" id="login-phone" placeholder="Enter your phone number" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <div class="input-with-icon password-container">
                            <i class="fas fa-lock input-icon"></i>
                            <input type="password" class="form-control" id="login-password" placeholder="Enter your password" required>
                            <i class="fas fa-eye toggle-password" data-target="login-password"></i>
                        </div>
                    </div>
                    
                    <div class="remember-row">
                        <div class="checkbox-container">
                            <div class="custom-checkbox checked" id="remember-checkbox"></div>
                            <span class="checkbox-label">Remember me</span>
                        </div>
                        <a href="#" class="forgot-link" id="forgot-password-link">Forgot password?</a>
                    </div>
                    
                    <button class="btn btn-primary" id="login-btn">Login to Account</button>
                    
                    <div class="footer-links">
                        Don't have an account? <a href="#" class="switch-form" data-target="register-form">Sign up</a>
                    </div>
                </div>
                
                <!-- Registration Form -->
                <div id="register-form" class="form-section">
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <div class="input-with-icon">
                            <i class="fas fa-phone input-icon"></i>
                            <input type="tel" class="form-control" id="phone-number" placeholder="Enter your phone number" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <div class="input-with-icon password-container">
                            <i class="fas fa-lock input-icon"></i>
                            <input type="password" class="form-control" id="reg-password" placeholder="Create a password" required>
                            <i class="fas fa-eye toggle-password" data-target="reg-password"></i>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Confirm Password</label>
                        <div class="input-with-icon password-container">
                            <i class="fas fa-lock input-icon"></i>
                            <input type="password" class="form-control" id="reg-confirm-password" placeholder="Confirm your password" required>
                            <i class="fas fa-eye toggle-password" data-target="reg-confirm-password"></i>
                        </div>
                        <div class="password-match" id="password-match">Passwords do not match!</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Invitation Code (Optional)</label>
                        <div class="invite-code-container">
                            <i class="fas fa-ticket-alt invite-icon"></i>
                            <input type="text" class="invite-code-input" id="invitation-code" placeholder="Enter invitation code if any">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Verification Code</label>
                        <div class="verification-container">
                            <div class="input-with-icon verification-input">
                                <i class="fas fa-shield-alt input-icon"></i>
                                <input type="text" class="form-control" id="verification-code" placeholder="Enter verification code" required>
                            </div>
                            <button class="send-code-btn" id="send-code-btn">Send Code</button>
                        </div>
                    </div>
                    
                    <div class="checkbox-container" style="margin: 20px 0;">
                        <div class="custom-checkbox checked" id="terms-checkbox"></div>
                        <span class="checkbox-label">I agree to the <a href="#" style="color: #0088ff; text-decoration: none;">Terms of Service</a> and <a href="#" style="color: #0088ff; text-decoration: none;">Privacy Policy</a></span>
                    </div>
                    
                    <button class="btn btn-primary" id="register-btn">Create Account</button>
                    
                    <div class="footer-links">
                        Already have an account? <a href="#" class="switch-form" data-target="login-form">Sign in</a>
                    </div>
                </div>
                
                <!-- Password Reset Form -->
                <div id="reset-password-form" class="form-section">
                    <h2 class="reset-title">Reset Your Password</h2>
                    
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <div class="input-with-icon">
                            <i class="fas fa-phone input-icon"></i>
                            <input type="tel" class="form-control" id="reset-phone" placeholder="Enter your registered phone number" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Verification Code</label>
                        <div class="verification-container">
                            <div class="input-with-icon verification-input">
                                <i class="fas fa-shield-alt input-icon"></i>
                                <input type="text" class="form-control" id="reset-verification-code" placeholder="Enter verification code" required>
                            </div>
                            <button class="send-code-btn" id="reset-send-code-btn">Send Code</button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">New Password</label>
                        <div class="input-with-icon password-container">
                            <i class="fas fa-lock input-icon"></i>
                            <input type="password" class="form-control" id="new-password" placeholder="Create a new password" required>
                            <i class="fas fa-eye toggle-password" data-target="new-password"></i>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Confirm New Password</label>
                        <div class="input-with-icon password-container">
                            <i class="fas fa-lock input-icon"></i>
                            <input type="password" class="form-control" id="confirm-new-password" placeholder="Confirm your new password" required>
                            <i class="fas fa-eye toggle-password" data-target="confirm-new-password"></i>
                        </div>
                        <div class="password-match" id="new-password-match">Passwords do not match!</div>
                    </div>
                    
                    <button class="btn btn-primary" id="reset-password-btn">Reset Password</button>
                    
                    <a href="#" class="back-to-login switch-form" data-target="login-form">
                        <i class="fas fa-arrow-left"></i> Back to Login
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <div class="notification-content" id="notification-content">Success message</div>
        <button class="close-notification" id="close-notification">&times;</button>
    </div>
    
    <!-- Confirmation Modal -->
    <div class="modal-overlay" id="confirmationModal">
        <div class="confirmation-modal">
            <h2 class="modal-title">Confirm Investment</h2>
            <div class="modal-content" id="modalContent">
                Are you sure you want to purchase this investment package?
            </div>
            <div class="modal-buttons">
                <button class="modal-btn modal-cancel" id="cancelInvestment">Cancel</button>
                <button class="modal-btn modal-confirm" id="confirmInvestment">Confirm</button>
            </div>
        </div>
    </div>
    
    <!-- Payment Confirmation Modal -->
    <div class="modal-overlay" id="paymentConfirmationModal">
        <div class="payment-confirm-modal">
            <div class="warning-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h2 class="modal-title">Payment Confirmation</h2>
            <div class="modal-content">
                <p>⚠️ WARNING: Only click "YES, I PAID" if you have already made the payment.</p>
                <p>If you click without paying, your account will be <strong>BANNED</strong> and cannot be unlocked.</p>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn modal-cancel" id="paymentCancel">NO, I WILL PAY NOW</button>
                <button class="modal-btn modal-confirm" id="paymentConfirm">YES, I PAID</button>
            </div>
        </div>
    </div>
    
    <!-- Dashboard Section -->
    <div class="dashboard-container" id="dashboardContainer">
        <!-- Animated background elements -->
        <div id="particles"></div>
        
        <div class="container">
            <header>
                <div class="logo">TESLA MATA</div>
                <div class="language-selector">EN <i class="fas fa-chevron-down"></i></div>
            </header>
            
            <div class="top-nav">
                <a href="#" class="nav-recharge"><i class="fas fa-wallet"></i> Recharge</a>
                <a href="#" class="nav-withdraw"><i class="fas fa-money-bill-wave"></i> Withdraw</a>
                <a href="#"><i class="fas fa-user"></i> Account</a>
                <a href="#"><i class="fas fa-download"></i> Download</a>
            </div>
            
            <!-- Crypto Ticker -->
            <div class="crypto-ticker">
                <div class="ticker-content">
                    <span class="ticker-item"><span class="crypto-name">BTC</span> $63,420 <span class="up">▲ 2.3%</span></span>
                    <span class="ticker-item"><span class="crypto-name">ETH</span> $3,215 <span class="up">▲ 1.8%</span></span>
                    <span class="ticker-item"><span class="crypto-name">SOL</span> $152 <span class="down">▼ 0.7%</span></span>
                    <span class="ticker-item"><span class="crypto-name">XRP</span> $0.52 <span class="up">▲ 0.9%</span></span>
                    <span class="ticker-item"><span class="crypto-name">ADA</span> $0.46 <span class="up">▲ 1.2%</span></span>
                    <span class="ticker-item"><span class="crypto-name">DOGE</span> $0.15 <span class="down">▼ 0.4%</span></span>
                    <span class="ticker-item"><span class="crypto-name">DOT</span> $7.20 <span class="up">▲ 3.1%</span></span>
                </div>
            </div>
            
            <!-- Security Notice -->
            <div class="security-notice">
                <i class="fas fa-shield-alt"></i> Secure platform with bank-level encryption. Never share your password or OTP with anyone.
            </div>
            
            <!-- Recharge Section -->
            <div id="recharge" class="section">
                <h1 class="section-title">Recharge</h1>
                
                <div class="recharge-section gold-border">
                    <div class="invite-label"><i class="fas fa-wallet"></i> Enter Amount</div>
                    
                    <div class="recharge-form">
                        <div class="form-group">
                            <label class="form-label">Amount (ZAR)</label>
                            <input type="number" class="form-input" id="rechargeAmount" placeholder="Enter amount you want to recharge" min="200">
                        </div>
                        
                        <div class="bank-details">
                            <div class="invite-label"><i class="fas fa-university"></i> Bank Transfer Details</div>
                            
                            <div class="bank-detail-item">
                                <span class="bank-detail-label">Receipt:</span>
                                <span class="bank-detail-value">WHOP</span>
                            </div>
                            <div class="bank-detail-item">
                                <span class="bank-detail-label">Bank Name:</span>
                                <span class="bank-detail-value">Tymebank Business</span>
                            </div>
                            <div class="bank-detail-item">
                                <span class="bank-detail-label">Account Number:</span>
                                <span class="bank-detail-value">53002770920</span>
                            </div>
                            <div class="bank-detail-item">
                                <span class="bank-detail-label">Reference:</span>
                                <span class="bank-detail-value" id="referenceNumber">TMX7K9</span>
                            </div>
                            
                            <button class="copy-bank-btn" id="copyBankBtn">
                                <i class="fas fa-copy"></i> Copy Bank Details
                            </button>
                        </div>
                        
                        <p class="note-text">
                            <i class="fas fa-info-circle"></i> Please transfer the exact amount you entered above. 
                            Use the provided reference number for verification.
                        </p>
                        
                        <button class="submit-btn" id="submitRecharge">
                            <i class="fas fa-check-circle"></i> Proceed to Payment
                        </button>
                    </div>
                    
                    <div class="countdown-container" id="countdownContainer">
                        <div class="countdown-title">Waiting for payment confirmation</div>
                        <div class="countdown-timer" id="countdownTimer">01:00</div>
                        <button class="paid-btn" id="paidBtn">
                            <i class="fas fa-check"></i> I HAVE PAID
                        </button>
                    </div>
                    
                    <div class="verification-process" id="verificationProcess">
                        <div class="verification-message">
                            <i class="fas fa-spinner fa-spin"></i> Manager is verifying your payment...
                        </div>
                        <div class="verification-warning">
                            <i class="fas fa-exclamation-triangle"></i> Warning: If you didn't pay and clicked this button, your account will be blocked
                        </div>
                    </div>
                    
                    <div class="success-message" id="successMessage">
                        <i class="fas fa-check-circle" style="font-size: 48px; margin-bottom: 15px;"></i>
                        <h3>Recharge Successful!</h3>
                        <p id="successAmount">R0.00 has been added to your account balance.</p>
                    </div>
                </div>
            </div>
            
            <!-- Withdrawal Section -->
            <div id="withdraw" class="section">
                <h1 class="section-title">Withdraw Funds</h1>
                
                <div class="withdraw-section gold-border">
                    <div class="invite-label"><i class="fas fa-money-bill-wave"></i> Enter Withdrawal Amount</div>
                    
                    <div class="withdraw-form">
                        <div class="form-group">
                            <label class="form-label">Amount (ZAR)</label>
                            <input type="number" class="form-input" id="withdrawAmount" placeholder="Minimum R100" min="100">
                        </div>
                        
                        <div class="fee-info">
                            <div class="fee-item">
                                <span class="fee-label">Withdrawal Fee (17%):</span>
                                <span class="fee-value" id="withdrawalFee">R0.00</span>
                            </div>
                            <div class="fee-item">
                                <span class="fee-label">Amount You'll Receive:</span>
                                <span class="fee-value" id="netAmount">R0.00</span>
                            </div>
                        </div>
                        
                        <div class="withdraw-note">
                            <i class="fas fa-info-circle"></i> Withdrawal takes 15-30 minutes to process. Funds will be sent to your registered bank account.
                        </div>
                        
                        <div class="withdraw-note">
                            <i class="fas fa-exclamation-triangle"></i> Only members who have purchased a package can withdraw funds.
                        </div>
                        
                        <button class="submit-btn" id="submitWithdraw">
                            <i class="fas fa-paper-plane"></i> Request Withdrawal
                        </button>
                    </div>
                    
                    <div class="success-message" id="withdrawSuccessMessage">
                        <i class="fas fa-check-circle" style="font-size: 48px; margin-bottom: 15px;"></i>
                        <h3>Withdrawal Request Sent!</h3>
                        <p id="withdrawSuccessDetails">Your withdrawal request is being processed.</p>
                    </div>
                </div>
            </div>
            
            <!-- Home Section -->
            <div id="home" class="section active">
                <!-- Basic Tier -->
                <div class="investment-card gold-border card-3d">
                    <div class="feature-badge">HOT</div>
                    <div class="investment-title">Spark 1</div>
                    <div class="price-cycle">
                        <span><i class="fas fa-tag"></i> Price: R200.00</span>
                        <span><i class="fas fa-sync-alt"></i> Cycle: 20 days</span>
                    </div>
                    <div class="daily-stock">Daily Purchases: <span class="daily-stock-value" id="stock-spark1">0</span></div>
                    <div class="invest-progress">
                        <div class="progress-bar" style="width: 45%"></div>
                    </div>
                    <div class="income-stats">
                        <div class="income-item">
                            <div class="income-value">R50.00</div>
                            <div class="income-label">Daily income</div>
                        </div>
                        <div class="income-item">
                            <div class="income-value">R1,000.00</div>
                            <div class="income-label">Total income</div>
                        </div>
                    </div>
                    <button class="invest-btn" data-product="Spark 1" data-price="200" data-income="50"><i class="fas fa-bolt"></i> INVEST NOW</button>
                </div>
                
                <!-- Standard Tier -->
                <div class="investment-card gold-border card-3d">
                    <div class="feature-badge">POPULAR</div>
                    <div class="investment-title">Spark 2</div>
                    <div class="price-cycle">
                        <span><i class="fas fa-tag"></i> Price: R350.00</span>
                        <span><i class="fas fa-sync-alt"></i> Cycle: 20 days</span>
                    </div>
                    <div class="daily-stock">Daily Purchases: <span class="daily-stock-value" id="stock-spark2">0</span></div>
                    <div class="invest-progress">
                        <div class="progress-bar" style="width: 85%"></div>
                    </div>
                    <div class="income-stats">
                        <div class="income-item">
                            <div class="income-value">R80.00</div>
                            <div class="income-label">Daily income</div>
                        </div>
                        <div class="income-item">
                            <div class="income-value">R1,600.00</div>
                            <div class="income-label">Total income</div>
                        </div>
                    </div>
                    <button class="invest-btn" data-product="Spark 2" data-price="350" data-income="80"><i class="fas fa-bolt"></i> INVEST NOW</button>
                </div>
                
                <!-- Premium Tier -->
                <div class="investment-card gold-border card-3d">
                    <div class="premium-badge">PREMIUM</div>
                    <div class="investment-title">Spark 3</div>
                    <div class="price-cycle">
                        <span><i class="fas fa-tag"></i> Price: R500.00</span>
                        <span><i class="fas fa-sync-alt"></i> Cycle: 20 days</span>
                    </div>
                    <div class="daily-stock">Daily Purchases: <span class="daily-stock-value" id="stock-spark3">0</span></div>
                    <div class="invest-progress">
                        <div class="progress-bar" style="width: 65%"></div>
                    </div>
                    <div class="income-stats">
                        <div class="income-item">
                            <div class="income-value">R125.00</div>
                            <div class="income-label">Daily income</div>
                        </div>
                        <div class="income-item">
                            <div class="income-value">R2,500.00</div>
                            <div class="income-label">Total income</div>
                        </div>
                    </div>
                    <button class="invest-btn" data-product="Spark 3" data-price="500" data-income="125"><i class="fas fa-bolt"></i> INVEST NOW</button>
                </div>
                
                <!-- Elite Tier -->
                <div class="investment-card gold-border card-3d">
                    <div class="elite-badge">ELITE</div>
                    <div class="investment-title">Spark 4</div>
                    <div class="price-cycle">
                        <span><i class="fas fa-tag"></i> Price: R750.00</span>
                        <span><i class="fas fa-sync-alt"></i> Cycle: 20 days</span>
                    </div>
                    <div class="daily-stock">Daily Purchases: <span class="daily-stock-value" id="stock-spark4">0</span></div>
                    <div class="invest-progress">
                        <div class="progress-bar" style="width: 55%"></div>
                    </div>
                    <div class="income-stats">
                        <div class="income-item">
                            <div class="income-value">R200.00</div>
                            <div class="income-label">Daily income</div>
                        </div>
                        <div class="income-item">
                            <div class="income-value">R4,000.00</div>
                            <div class="income-label">Total income</div>
                        </div>
                    </div>
                    <button class="invest-btn" data-product="Spark 4" data-price="750" data-income="200"><i class="fas fa-bolt"></i> INVEST NOW</button>
                </div>
                
                <!-- VIP Tier -->
                <div class="investment-card gold-border card-3d">
                    <div class="vip-badge">VIP</div>
                    <div class="investment-title">Spark 5</div>
                    <div class="price-cycle">
                        <span><i class="fas fa-tag"></i> Price: R1,000.00</span>
                        <span><i class="fas fa-sync-alt"></i> Cycle: 20 days</span>
                    </div>
                    <div class="daily-stock">Daily Purchases: <span class="daily-stock-value" id="stock-spark5">0</span></div>
                    <div class="invest-progress">
                        <div class="progress-bar" style="width: 75%"></div>
                    </div>
                    <div class="income-stats">
                        <div class="income-item">
                            <div class="income-value">R300.00</div>
                            <div class="income-label">Daily income</div>
                        </div>
                        <div class="income-item">
                            <div class="income-value">R6,000.00</div>
                            <div class="income-label">Total income</div>
                        </div>
                    </div>
                    <button class="invest-btn" data-product="Spark 5" data-price="1000" data-income="300"><i class="fas fa-bolt"></i> INVEST NOW</button>
                </div>
                
                <!-- VIP+ Tier -->
                <div class="investment-card gold-border card-3d">
                    <div class="vip-badge">VIP+</div>
                    <div class="investment-title">Spark 6</div>
                    <div class="price-cycle">
                        <span><i class="fas fa-tag"></i> Price: R2,000.00</span>
                        <span><i class="fas fa-sync-alt"></i> Cycle: 20 days</span>
                    </div>
                    <div class="daily-stock">Daily Purchases: <span class="daily-stock-value" id="stock-spark6">0</span></div>
                    <div class="invest-progress">
                        <div class="progress-bar" style="width: 60%"></div>
                    </div>
                    <div class="income-stats">
                        <div class="income-item">
                            <div class="income-value">R600.00</div>
                            <div class="income-label">Daily income</div>
                        </div>
                        <div class="income-item">
                            <div class="income-value">R12,000.00</div>
                            <div class="income-label">Total income</div>
                        </div>
                    </div>
                    <button class="invest-btn" data-product="Spark 6" data-price="2000" data-income="600"><i class="fas fa-bolt"></i> INVEST NOW</button>
                </div>
                
                <!-- Premium VIP Tier -->
                <div class="investment-card gold-border card-3d">
                    <div class="premium-badge">PREMIUM VIP</div>
                    <div class="investment-title">Spark 7</div>
                    <div class="price-cycle">
                        <span><i class="fas fa-tag"></i> Price: R5,000.00</span>
                        <span><i class="fas fa-sync-alt"></i> Cycle: 20 days</span>
                    </div>
                    <div class="daily-stock">Daily Purchases: <span class="daily-stock-value" id="stock-spark7">0</span></div>
                    <div class="invest-progress">
                        <div class="progress-bar" style="width: 40%"></div>
                    </div>
                    <div class="income-stats">
                        <div class="income-item">
                            <div class="income-value">R1,500.00</div>
                            <div class="income-label">Daily income</div>
                        </div>
                        <div class="income-item">
                            <div class="income-value">R30,000.00</div>
                            <div class="income-label">Total income</div>
                        </div>
                    </div>
                    <button class="invest-btn" data-product="Spark 7" data-price="5000" data-income="1500"><i class="fas fa-bolt"></i> INVEST NOW</button>
                </div>
                
                <!-- Elite VIP Tier -->
                <div class="investment-card gold-border card-3d">
                    <div class="elite-badge">ELITE VIP</div>
                    <div class="investment-title">Spark 9</div>
                    <div class="price-cycle">
                        <span><i class="fas fa-tag"></i> Price: R8,000.00</span>
                        <span><i class="fas fa-sync-alt"></i> Cycle: 20 days</span>
                    </div>
                    <div class="daily-stock">Daily Purchases: <span class="daily-stock-value" id="stock-spark9">0</span></div>
                    <div class="invest-progress">
                        <div class="progress-bar" style="width: 35%"></div>
                    </div>
                    <div class="income-stats">
                        <div class="income-item">
                            <div class="income-value">R2,400.00</div>
                            <div class="income-label">Daily income</div>
                        </div>
                        <div class="income-item">
                            <div class="income-value">R48,000.00</div>
                            <div class="income-label">Total income</div>
                        </div>
                    </div>
                    <button class="invest-btn" data-product="Spark 9" data-price="8000" data-income="2400"><i class="fas fa-bolt"></i> INVEST NOW</button>
                </div>
                
                <!-- Ultimate VIP Tier -->
                <div class="investment-card gold-border card-3d">
                    <div class="vip-badge">ULTIMATE</div>
                    <div class="investment-title">Spark 10</div>
                    <div class="price-cycle">
                        <span><i class="fas fa-tag"></i> Price: R10,000.00</span>
                        <span><i class="fas fa-sync-alt"></i> Cycle: 20 days</span>
                    </div>
                    <div class="daily-stock">Daily Purchases: <span class="daily-stock-value" id="stock-spark10">0</span></div>
                    <div class="invest-progress">
                        <div class="progress-bar" style="width: 25%"></div>
                    </div>
                    <div class="income-stats">
                        <div class="income-item">
                            <div class="income-value">R3,000.00</div>
                            <div class="income-label">Daily income</div>
                        </div>
                        <div class="income-item">
                            <div class="income-value">R60,000.00</div>
                            <div class="income-label">Total income</div>
                        </div>
                    </div>
                    <button class="invest-btn" data-product="Spark 10" data-price="10000" data-income="3000"><i class="fas fa-bolt"></i> INVEST NOW</button>
                </div>
                
                <!-- Purchase History -->
                <div class="purchase-history">
                    <div class="history-title"><i class="fas fa-history"></i> Today's Purchases</div>
                    <div id="purchaseHistory">
                        <div class="history-item">
                            <span>No purchases today</span>
                            <span>R0.00</span>
                        </div>
                    </div>
                </div>
                
                <div class="share-income-bar">
                    <button class="share-btn"><i class="fas fa-share-alt"></i> Share & Earn</button>
                    <button class="income-btn"><i class="fas fa-chart-line"></i> Income <span>2</span></button>
                </div>
            </div>
            
            <!-- Promotion Section -->
            <div id="invite" class="section">
                <h1 class="section-title">Promotion</h1>
                
                <div class="invite-section gold-border">
                    <div class="invite-label"><i class="fas fa-link"></i> Invitation link</div>
                    <div class="link-box">
                        <div class="link-text" id="invite-link-display">https://teslamata-investment.netlify.app/</div>
                        <button class="copy-btn" id="copyInviteBtn"><i class="fas fa-copy"></i> Copy</button>
                    </div>
                    <div class="invite-link-generator">
                        <button class="generate-btn" id="generateInviteBtn">
                            <i class="fas fa-sync-alt"></i> Generate New Link
                        </button>
                    </div>
                    
                    <div class="invite-label"><i class="fas fa-users"></i> Your Downliners</div>
                    <div id="downliners-list" class="purchase-history">
                        <div class="history-item">
                            <span>No downliners yet</span>
                        </div>
                    </div>
                </div>
                
                <div class="divider"></div>
                
                <h2 class="rebate-title">Rebate Ratio</h2>
                <table class="rebate-table">
                    <thead>
                        <tr>
                            <th>Level</th>
                            <th>Level 1 Rewards</th>
                            <th>Level 2 Rewards</th>
                            <th>Level 3 Rewards</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>VIP 1</td>
                            <td>20%</td>
                            <td>5%</td>
                            <td>2%</td>
                        </tr>
                    </tbody>
                </table>
                
                <div style="margin-top: 30px; text-align: center;">
                    <button class="income-btn" style="padding: 15px 30px; font-size: 16px;">
                        <i class="fas fa-gift"></i> Claim Your Bonus
                    </button>
                </div>
            </div>
            
            <!-- Team Section -->
            <div id="team" class="section">
                <h1 class="section-title">My Team</h1>
                <div class="investment-card gold-border">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                        <div>
                            <div style="font-size: 14px; color: #b0b0b0;">Team Size</div>
                            <div style="font-size: 28px; font-weight: bold; color: #00a2ff;" id="team-size">0</div>
                        </div>
                        <div>
                            <div style="font-size: 14px; color: #b0b0b0;">Active Today</div>
                            <div style="font-size: 28px; font-weight: bold; color: #4CAF50;" id="active-today">0</div>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; background: rgba(30, 40, 60, 0.7); padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                        <div style="text-align: center;">
                            <div style="font-size: 16px; color: #6a9eff;" id="team-investment">R0.00</div>
                            <div style="font-size: 13px; color: #a0a0a0;">Team Investment</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 16px; color: #6a9eff;" id="team-earnings">R0.00</div>
                            <div style="font-size: 13px; color: #a0a0a0;">Team Earnings</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 16px; color: #6a9eff;" id="my-commission">R0.00</div>
                            <div style="font-size: 13px; color: #a0a0a0;">My Commission</div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="invest-btn" id="manage-team-btn" style="width: auto; padding: 10px 25px;">
                            <i class="fas fa-users"></i> Manage Team
                        </button>
                    </div>
                </div>
                
                <h2 class="rebate-title">Top Performers</h2>
                <div class="investment-card">
                    <div class="service-item">
                        <div><i class="fas fa-crown" style="color: #00a2ff;"></i> VIP Member 1</div>
                        <div>R0.00</div>
                    </div>
                    <div class="service-item">
                        <div><i class="fas fa-crown" style="color: #c0c0c0;"></i> VIP Member 2</div>
                        <div>R0.00</div>
                    </div>
                    <div class="service-item">
                        <div><i class="fas fa-crown" style="color: #cd7f32;"></i> VIP Member 3</div>
                        <div>R0.00</div>
                    </div>
                </div>
            </div>
            
            <!-- Team Management Section -->
            <div id="team-management" class="section" style="display: none;">
                <div class="team-management">
                    <div class="team-management-header">
                        <h2 class="section-title">Team Management</h2>
                        <button class="back-to-team" id="back-to-team">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                    </div>
                    
                    <div class="team-category">
                        <h3 class="team-category-title">Active Members</h3>
                        <div id="active-members-list">
                            <div class="no-items">No active members</div>
                        </div>
                    </div>
                    
                    <div class="team-category">
                        <h3 class="team-category-title">Inactive Members</h3>
                        <div id="inactive-members-list">
                            <div class="no-items">No inactive members</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Mine Section -->
            <div id="mine" class="section">
                <div class="user-info">
                    <div class="phone-number" id="user-phone">+27 81 853 5051</div>
                    <div class="total-balance" id="user-balance">R0.00</div>
                    <div class="balance-label">Total Balance</div>
                </div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="total-deposit">R0.00</div>
                        <div class="stat-label">Total Deposit</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="total-withdrawal">R0.00</div>
                        <div class="stat-label">Total Withdrawal</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="total-earnings">R0.00</div>
                        <div class="stat-label">Total Earnings</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn recharge-btn"><i class="fas fa-plus-circle"></i> Recharge</button>
                    <button class="action-btn withdraw-btn"><i class="fas fa-wallet"></i> Withdraw</button>
                </div>
                
                <!-- Tabs for Portfolio and Transactions -->
                <div class="tabs">
                    <div class="tab active" data-target="portfolio">Portfolio</div>
                    <div class="tab" data-target="transactions">Transactions</div>
                    <div class="tab" data-target="rewards">Rewards</div>
                    <div class="tab" data-target="bank">Bank</div>
                    <div class="tab" data-target="security">Security</div>
                </div>
                
                <!-- Investment Portfolio -->
                <div class="portfolio-section gold-border">
                    <div class="tab-content active" id="portfolioTab">
                        <h3 class="services-title">My Investment Portfolio</h3>
                        <div id="portfolioList">
                            <div class="no-items">No active investments</div>
                        </div>
                    </div>
                </div>
                
                <!-- Transaction History -->
                <div class="transaction-history gold-border">
                    <div class="tab-content" id="transactionsTab">
                        <h3 class="services-title">Transaction History</h3>
                        <div id="transactionsList">
                            <div class="no-items">No transactions yet</div>
                        </div>
                    </div>
                </div>
                
                <!-- Reward Section -->
                <div class="reward-section gold-border">
                    <div class="tab-content" id="rewardsTab">
                        <h3 class="reward-title">Daily Rewards</h3>
                        <p class="reward-description">Claim your daily random reward (R1-R50) between 13:00 and 13:30</p>
                        <p class="reward-time" id="rewardTimeStatus">Next reward available in: <span id="rewardCountdown">00:00:00</span></p>
                        
                        <div class="detailed-countdown" id="detailedCountdown">
                            <div class="countdown-unit">
                                <div class="countdown-value" id="countdown-days">00</div>
                                <div class="countdown-label">Days</div>
                            </div>
                            <div class="countdown-unit">
                                <div class="countdown-value" id="countdown-hours">00</div>
                                <div class="countdown-label">Hours</div>
                            </div>
                            <div class="countdown-unit">
                                <div class="countdown-value" id="countdown-minutes">00</div>
                                <div class="countdown-label">Minutes</div>
                            </div>
                            <div class="countdown-unit">
                                <div class="countdown-value" id="countdown-seconds">00</div>
                                <div class="countdown-label">Seconds</div>
                            </div>
                        </div>
                        
                        <button class="reward-btn" id="claimRewardBtn" disabled>
                            <i class="fas fa-gift"></i> Claim Reward
                        </button>
                        <div class="reward-result" id="rewardResult"></div>
                    </div>
                </div>
                
                <!-- Bank Account Section -->
                <div class="bank-account-section gold-border">
                    <div class="tab-content" id="bankTab">
                        <h3 class="bank-account-title">Bank Account Details</h3>
                        <div class="bank-form-group">
                            <label class="bank-form-label">Name on Account</label>
                            <input type="text" class="bank-form-input" id="accountName" placeholder="Enter name as it appears on bank account">
                        </div>
                        <div class="bank-form-group">
                            <label class="bank-form-label">Bank Name</label>
                            <select class="bank-form-select" id="bankName">
                                <option value="">Select Bank</option>
                                <option value="Tymebank">Tymebank</option>
                                <option value="CAPITEC">CAPITEC</option>
                                <option value="FNB">FNB</option>
                                <option value="ABSA">ABSA</option>
                                <option value="STD">Standard Bank</option>
                                <option value="AFRICAN BANK">African Bank</option>
                                <option value="NEDBANK">Nedbank</option>
                            </select>
                        </div>
                        <div class="bank-form-group">
                            <label class="bank-form-label">Account Number</label>
                            <input type="text" class="bank-form-input" id="accountNumber" placeholder="Enter your account number">
                        </div>
                        <button class="bind-btn" id="bindBankBtn">
                            <i class="fas fa-link"></i> Bind Bank Account
                        </button>
                        
                        <div class="bank-details-display" id="bankDetailsDisplay">
                            <div class="bank-detail-row">
                                <span class="bank-detail-label">Name:</span>
                                <span class="bank-detail-value" id="displayName"></span>
                            </div>
                            <div class="bank-detail-row">
                                <span class="bank-detail-label">Bank:</span>
                                <span class="bank-detail-value" id="displayBank"></span>
                            </div>
                            <div class="bank-detail-row">
                                <span class="bank-detail-label">Account Number:</span>
                                <span class="bank-detail-value" id="displayAccountNumber"></span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Security Section -->
                <div class="security-section gold-border">
                    <div class="tab-content" id="securityTab">
                        <h3 class="security-title">Security Settings</h3>
                        <div class="security-form-group">
                            <label class="security-form-label">Current Password</label>
                            <input type="password" class="security-form-input" id="currentPassword" placeholder="Enter your current password">
                        </div>
                        <div class="security-form-group">
                            <label class="security-form-label">New Password</label>
                            <input type="password" class="security-form-input" id="newPassword" placeholder="Enter new password">
                        </div>
                        <div class="security-form-group">
                            <label class="security-form-label">Confirm New Password</label>
                            <input type="password" class="security-form-input" id="confirmPassword" placeholder="Confirm new password">
                        </div>
                        <button class="update-btn" id="updatePasswordBtn">
                            <i class="fas fa-lock"></i> Update Password
                        </button>
                        <div class="success-message" id="passwordSuccessMessage">
                            <i class="fas fa-check-circle"></i> Password updated successfully!
                        </div>
                    </div>
                </div>
                
                <!-- Existing Services -->
                <div class="services-section gold-border">
                    <h3 class="services-title">My Services</h3>
                    <ul class="service-list">
                        <li class="service-item" id="telegramSupport">
                            <span><i class="fab fa-telegram"></i> Telegram Support</span>
                            <i class="fas fa-chevron-right"></i>
                        </li>
                        <li class="service-item" id="securitySettings">
                            <span><i class="fas fa-lock"></i> Security Settings</span>
                            <i class="fas fa-chevron-right"></i>
                        </li>
                        <li class="service-item" id="bankAccounts">
                            <span><i class="fas fa-university"></i> Bank Accounts</span>
                            <i class="fas fa-chevron-right"></i>
                        </li>
                        <li class="service-item" id="customerService">
                            <span><i class="fas fa-headset"></i> Customer Service</span>
                            <i class="fas fa-chevron-right"></i>
                        </li>
                        <li class="service-item" id="transactionHistory">
                            <span><i class="fas fa-receipt"></i> Transaction History</span>
                            <i class="fas fa-chevron-right"></i>
                        </li>
                        <li class="service-item" id="myRewards">
                            <span><i class="fas fa-gift"></i> My Rewards</span>
                            <i class="fas fa-chevron-right"></i>
                        </li>
                        <li class="service-item">
                            <span><i class="fas fa-mobile-alt"></i> Download App</span>
                            <i class="fas fa-chevron-right"></i>
                        </li>
                        <li class="service-item">
                            <span><i class="fas fa-list"></i> Investment Portfolio</span>
                            <i class="fas fa-chevron-right"></i>
                        </li>
                        <li class="service-item" id="logoutService">
                            <span><i class="fas fa-sign-out-alt"></i> Logout</span>
                            <i class="fas fa-chevron-right"></i>
                        </li>
                    </ul>
                </div>
                
                <!-- Logout Button -->
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
            
            <!-- Bottom Navigation - Fixed at all times -->
            <div class="bottom-nav">
                <a href="#" class="nav-item active" data-target="home">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
                <a href="#" class="nav-item" data-target="invite">
                    <i class="fas fa-gift"></i>
                    <span>Invite</span>
                </a>
                <a href="#" class="nav-item" data-target="team">
                    <i class="fas fa-users"></i>
                    <span>Team</span>
                </a>
                <a href="#" class="nav-item" data-target="mine">
                    <i class="fas fa-user"></i>
                    <span>Mine</span>
                </a>
            </div>
        </div>
    </div>
    
    <!-- AI Assistant -->
    <div class="ai-assistant">
        <div class="ai-button" id="aiButton">
            <i class="fas fa-robot"></i>
        </div>
        <div class="ai-chatbox" id="aiChatbox">
            <div class="ai-header">
                <span>Tesla Mata AI Assistant</span>
            </div>
            <div class="ai-messages" id="aiMessages">
                <div class="ai-message bot">
                    Hi there! I'm Tesla Mata AI Assistant. How can I help you today?
                </div>
            </div>
            <div class="ai-input-container">
                <input type="text" class="ai-input" id="aiInput" placeholder="Ask me anything...">
                <button class="ai-send" id="aiSend">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // User storage using localStorage
        const USER_STORAGE_KEY = "tesla_users";
        const SESSION_KEY = "tesla_session";
        const DAILY_STOCK_KEY = "daily_stock";
        
        // Initialize users array
        let users = JSON.parse(localStorage.getItem(USER_STORAGE_KEY)) || [];
        
        // Current verification codes
        let currentVerificationCode = null;
        let resetVerificationCode = null;
        
        // Current user session
        let currentUser = null;
        
        // Current investment selection for confirmation
        let currentInvestment = null;
        
        // Dashboard data
        let dailyStock = JSON.parse(localStorage.getItem(DAILY_STOCK_KEY)) || {
            date: new Date().toISOString().split('T')[0],
            counts: {
                "Spark 1": 0,
                "Spark 2": 0,
                "Spark 3": 0,
                "Spark 4": 0,
                "Spark 5": 0,
                "Spark 6": 0,
                "Spark 7": 0,
                "Spark 9": 0,
                "Spark 10": 0
            }
        };
        
        // Generate a unique invitation code (3 numbers + 3 letters)
        function generateInviteCode() {
            let numbers = '';
            let letters = '';
            for (let i = 0; i < 3; i++) {
                numbers += Math.floor(Math.random() * 10);
                letters += String.fromCharCode(65 + Math.floor(Math.random() * 26));
            }
            return numbers + letters;
        }
        
        // Generate invitation link
        function generateInviteLink() {
            if (!currentUser) return "https://teslamata-investment.netlify.app/";
            return `https://teslamata-investment.netlify.app/${currentUser.inviteCode}`;
        }
        
        // Initialize dashboard if user is logged in
        function initDashboard() {
            const sessionData = localStorage.getItem(SESSION_KEY);
            if (sessionData) {
                const session = JSON.parse(sessionData);
                const user = users.find(u => u.phone === session.phone);
                
                if (user && user.password === session.password) {
                    currentUser = user;
                    showDashboard();
                    return;
                }
            }
            
            // If no valid session, show login
            document.getElementById('authContainer').classList.remove('hidden');
        }
        
        // Show dashboard
        function showDashboard() {
            document.getElementById('authContainer').classList.add('hidden');
            document.getElementById('dashboardContainer').style.display = 'block';
            
            // Update UI with user data
            document.getElementById('user-phone').textContent = `+27 ${currentUser.phone}`;
            document.getElementById('user-balance').textContent = `R${currentUser.balance.toFixed(2)}`;
            document.getElementById('total-deposit').textContent = `R${currentUser.totalDeposits.toFixed(2)}`;
            document.getElementById('total-withdrawal').textContent = `R${currentUser.totalWithdrawals.toFixed(2)}`;
            document.getElementById('total-earnings').textContent = `R${currentUser.totalEarnings.toFixed(2)}`;
            
            // Update team stats
            updateTeamStats();
            
            // Update downliners list
            updateDownlinersList();
            
            // Initialize dashboard components
            createParticles();
            updatePortfolioList();
            updateTransactionsList();
            updateRewardStatus();
            updateBankAccountDisplay();
            updateDailyStockUI();
            
            // Check for pending daily incomes
            checkAndCreditDailyIncome();
            
            // Set invitation link
            document.getElementById('invite-link-display').textContent = generateInviteLink();
        }
        
        // Create animated background elements
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const types = ['snowflake', 'clover'];
            
            for (let i = 0; i < 40; i++) {
                const type = types[Math.floor(Math.random() * types.length)];
                const particle = document.createElement('div');
                particle.className = type;
                particle.innerHTML = type === 'snowflake' ? '❄️' : '🍀';
                
                // Random properties
                const size = Math.random() * 20 + 10;
                const left = Math.random() * 100;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                const swayAmplitude = Math.random() * 50 + 20;
                
                particle.style.fontSize = `${size}px`;
                particle.style.left = `${left}%`;
                particle.style.animationDuration = `${duration}s, ${swayAmplitude/10 + 3}s`;
                particle.style.animationDelay = `${delay}s`;
                
                particlesContainer.appendChild(particle);
            }
        }
        
        // Check and credit daily income
        function checkAndCreditDailyIncome() {
            if (!currentUser || !currentUser.investments) return;
            
            const now = new Date();
            
            currentUser.investments.forEach(investment => {
                // Calculate hours since last payout
                const lastPayoutTime = new Date(investment.lastPayoutTime);
                const hoursSinceLastPayout = (now - lastPayoutTime) / (1000 * 60 * 60);
                
                // If 24 hours have passed since last payout
                if (hoursSinceLastPayout >= 24 && investment.daysRemaining > 0) {
                    // Credit daily income
                    currentUser.balance += investment.dailyIncome;
                    currentUser.totalEarnings += investment.dailyIncome;
                    investment.daysRemaining--;
                    investment.lastPayoutTime = now.toISOString();
                    
                    // Add transaction
                    currentUser.transactions.push({
                        type: 'income',
                        amount: investment.dailyIncome,
                        date: now.toISOString(),
                        product: investment.product
                    });
                    
                    // Show notification
                    showNotification(`Daily income of R${investment.dailyIncome.toFixed(2)} added for ${investment.product}`);
                    
                    // Save user data
                    localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
                    
                    // Update UI
                    updateBalanceUI();
                    updateTransactionsList();
                    updatePortfolioList();
                }
            });
        }
        
        // ========== AUTHENTICATION FUNCTIONALITY ==========
        
        // Toggle between forms
        document.querySelectorAll('.toggle-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Remove active class from all buttons
                document.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');
                
                // Hide all forms
                document.querySelectorAll('.form-section').forEach(form => form.classList.remove('active'));
                // Show target form
                const targetForm = this.getAttribute('data-target');
                document.getElementById(targetForm).classList.add('active');
            });
        });
        
        // Switch form from links
        document.querySelectorAll('.switch-form').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetForm = this.getAttribute('data-target');
                
                // Update toggle buttons
                document.querySelectorAll('.toggle-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if(btn.getAttribute('data-target') === targetForm) {
                        btn.classList.add('active');
                    }
                });
                
                // Hide all forms
                document.querySelectorAll('.form-section').forEach(form => form.classList.remove('active'));
                // Show target form
                document.getElementById(targetForm).classList.add('active');
            });
        });
        
        // Forgot password link
        document.getElementById('forgot-password-link').addEventListener('click', function(e) {
            e.preventDefault();
            
            // Hide all forms
            document.querySelectorAll('.form-section').forEach(form => form.classList.remove('active'));
            
            // Show reset password form
            document.getElementById('reset-password-form').classList.add('active');
            
            // Hide toggle buttons
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.style.display = 'none';
            });
        });
        
        // Toggle password visibility
        document.querySelectorAll('.toggle-password').forEach(icon => {
            icon.addEventListener('click', function() {
                const target = this.getAttribute('data-target');
                const input = document.getElementById(target);
                const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
                input.setAttribute('type', type);
                
                // Toggle eye icon
                this.classList.toggle('fa-eye');
                this.classList.toggle('fa-eye-slash');
            });
        });
        
        // Toggle checkboxes
        document.querySelectorAll('.custom-checkbox').forEach(checkbox => {
            checkbox.addEventListener('click', function() {
                this.classList.toggle('checked');
            });
        });
        
        // Check password match
        function checkPasswordMatch() {
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('reg-confirm-password').value;
            const passwordMatch = document.getElementById('password-match');
            
            if (password && confirmPassword && password !== confirmPassword) {
                passwordMatch.style.display = 'block';
                return false;
            } else {
                passwordMatch.style.display = 'none';
                return true;
            }
        }
        
        // Check new password match
        function checkNewPasswordMatch() {
            const password = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-new-password').value;
            const passwordMatch = document.getElementById('new-password-match');
            
            if (password && confirmPassword && password !== confirmPassword) {
                passwordMatch.style.display = 'block';
                return false;
            } else {
                passwordMatch.style.display = 'none';
                return true;
            }
        }
        
        // Confirm password match check
        if (document.getElementById('reg-confirm-password')) {
            document.getElementById('reg-confirm-password').addEventListener('input', checkPasswordMatch);
        }
        
        if (document.getElementById('confirm-new-password')) {
            document.getElementById('confirm-new-password').addEventListener('input', checkNewPasswordMatch);
        }
        
        // Verification code functionality
        const sendCodeBtn = document.getElementById('send-code-btn');
        const phoneNumberInput = document.getElementById('phone-number');
        
        if (sendCodeBtn) {
            sendCodeBtn.addEventListener('click', function() {
                if (!phoneNumberInput.value) {
                    showNotification('Please enter your phone number first', 'error');
                    return;
                }
                
                // Check if phone number is already registered
                const phone = phoneNumberInput.value;
                const existingUser = users.find(user => user.phone === phone);
                if (existingUser) {
                    showNotification('This phone number is already registered', 'error');
                    return;
                }
                
                // Disable button for 60 seconds
                this.disabled = true;
                let seconds = 60;
                const originalText = this.textContent;
                
                const countdown = setInterval(() => {
                    this.textContent = `Resend (${seconds}s)`;
                    seconds--;
                    
                    if (seconds < 0) {
                        clearInterval(countdown);
                        this.textContent = 'Send Code';
                        this.disabled = false;
                    }
                }, 1000);
                
                // Generate random 4-digit code
                currentVerificationCode = Math.floor(1000 + Math.random() * 9000);
                
                // Show notification with the code
                showNotification(`Verification code sent: ${currentVerificationCode}`);
            });
        }
        
        // Reset password verification code
        const resetSendCodeBtn = document.getElementById('reset-send-code-btn');
        const resetPhoneInput = document.getElementById('reset-phone');
        
        if (resetSendCodeBtn) {
            resetSendCodeBtn.addEventListener('click', function() {
                if (!resetPhoneInput.value) {
                    showNotification('Please enter your phone number first', 'error');
                    return;
                }
                
                // Check if phone number is registered
                const phone = resetPhoneInput.value;
                const existingUser = users.find(user => user.phone === phone);
                if (!existingUser) {
                    showNotification('Phone number not registered. Please sign up first.', 'error');
                    return;
                }
                
                // Disable button for 60 seconds
                this.disabled = true;
                let seconds = 60;
                const originalText = this.textContent;
                
                const countdown = setInterval(() => {
                    this.textContent = `Resend (${seconds}s)`;
                    seconds--;
                    
                    if (seconds < 0) {
                        clearInterval(countdown);
                        this.textContent = 'Send Code';
                        this.disabled = false;
                    }
                }, 1000);
                
                // Generate random 4-digit code
                resetVerificationCode = Math.floor(1000 + Math.random() * 9000);
                
                // Show notification with the code
                showNotification(`Verification code sent: ${resetVerificationCode}`);
            });
        }
        
        // Registration functionality
        document.getElementById('register-btn').addEventListener('click', function() {
            const phone = document.getElementById('phone-number').value;
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('reg-confirm-password').value;
            const verificationCode = document.getElementById('verification-code').value;
            const invitationCode = document.getElementById('invitation-code').value;
            const termsChecked = document.getElementById('terms-checkbox').classList.contains('checked');
            
            // Validate inputs
            if (!phone) {
                showNotification('Please enter your phone number', 'error');
                return;
            }
            
            if (!password) {
                showNotification('Please create a password', 'error');
                return;
            }
            
            if (password.length < 8) {
                showNotification('Password must be at least 8 characters', 'error');
                return;
            }
            
            if (!checkPasswordMatch()) {
                showNotification('Passwords do not match', 'error');
                return;
            }
            
            if (!verificationCode) {
                showNotification('Please enter verification code', 'error');
                return;
            }
            
            if (!termsChecked) {
                showNotification('Please agree to the Terms of Service and Privacy Policy', 'error');
                return;
            }
            
            // Check verification code
            if (verificationCode !== currentVerificationCode.toString()) {
                showNotification('Invalid verification code', 'error');
                return;
            }
            
            // Check if user already exists
            const existingUser = users.find(user => user.phone === phone);
            if (existingUser) {
                showNotification('This phone number is already registered', 'error');
                return;
            }
            
            // Generate invite code for the new user
            const inviteCode = generateInviteCode();
            
            // Create new user
            const newUser = {
                phone,
                password,
                balance: 0,
                totalDeposits: 0,
                totalWithdrawals: 0,
                totalEarnings: 0,
                investments: [],
                transactions: [],
                downliners: [],
                inviteCode: inviteCode,
                invitedBy: null,
                registrationDate: new Date().toISOString()
            };
            
            // Handle invitation code if provided
            if (invitationCode) {
                const inviter = users.find(user => user.inviteCode === invitationCode);
                if (inviter) {
                    // Record the inviter
                    newUser.invitedBy = inviter.phone;
                    
                    // Add this user to inviter's downliners
                    inviter.downliners.push(phone);
                    
                    // Add bonus to inviter - now R32 per invite
                    inviter.balance += 32;
                    inviter.totalEarnings += 32;
                    
                    // Add transaction for inviter
                    inviter.transactions.push({
                        type: 'bonus',
                        amount: 32,
                        date: new Date().toISOString(),
                        description: 'Invitation bonus'
                    });
                    
                    // Show notification to inviter (if they're logged in)
                    if (currentUser && currentUser.phone === inviter.phone) {
                        showNotification('You received R32 bonus for a new referral!');
                    }
                    
                    // Show notification to new user
                    showNotification('Invitation code applied! Your inviter received a bonus.');
                } else {
                    showNotification('Invalid invitation code. Proceeding without referral.', 'error');
                }
            }
            
            // Save user
            users.push(newUser);
            localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
            
            // Show success message
            showNotification('Account created successfully! You can now login.');
            
            // Switch to login form
            setTimeout(() => {
                document.querySelector('[data-target="login-form"]').click();
                document.getElementById('login-phone').value = phone;
            }, 1500);
        });
        
        // Login functionality
        document.getElementById('login-btn').addEventListener('click', function() {
            const phone = document.getElementById('login-phone').value;
            const password = document.getElementById('login-password').value;
            const rememberMe = document.getElementById('remember-checkbox').classList.contains('checked');
            
            // Find user
            const user = users.find(user => user.phone === phone);
            
            if (!user) {
                showNotification('User not found. Please register first.', 'error');
                return;
            }
            
            if (user.password !== password) {
                showNotification('Invalid password', 'error');
                return;
            }
            
            // Save login state if remember me is checked
            if (rememberMe) {
                localStorage.setItem(SESSION_KEY, JSON.stringify({
                    phone: user.phone,
                    password: user.password
                }));
            } else {
                localStorage.removeItem(SESSION_KEY);
            }
            
            // Set current user
            currentUser = user;
            
            // Show dashboard
            showDashboard();
            
            // Show success message
            showNotification(`Welcome back, ${phone}!`);
        });
        
        // Reset password functionality
        document.getElementById('reset-password-btn').addEventListener('click', function() {
            const phone = document.getElementById('reset-phone').value;
            const verificationCode = document.getElementById('reset-verification-code').value;
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-new-password').value;
            
            // Validate inputs
            if (!phone) {
                showNotification('Please enter your phone number', 'error');
                return;
            }
            
            if (!verificationCode) {
                showNotification('Please enter verification code', 'error');
                return;
            }
            
            if (!newPassword) {
                showNotification('Please create a new password', 'error');
                return;
            }
            
            if (newPassword.length < 8) {
                showNotification('Password must be at least 8 characters', 'error');
                return;
            }
            
            if (!checkNewPasswordMatch()) {
                showNotification('Passwords do not match', 'error');
                return;
            }
            
            // Check verification code
            if (verificationCode !== resetVerificationCode.toString()) {
                showNotification('Invalid verification code', 'error');
                return;
            }
            
            // Find user
            const user = users.find(user => user.phone === phone);
            if (!user) {
                showNotification('Phone number not registered. Please sign up first.', 'error');
                return;
            }
            
            // Update password
            user.password = newPassword;
            localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
            
            // Show success message
            showNotification('Password reset successfully! You can now login with your new password.');
            
            // Switch to login form
            setTimeout(() => {
                document.querySelectorAll('.toggle-btn').forEach(btn => btn.style.display = 'flex');
                document.querySelector('[data-target="login-form"]').click();
                document.getElementById('login-phone').value = phone;
            }, 1500);
        });
        
        // ========== DASHBOARD FUNCTIONALITY ==========
        
        // Navigation functionality
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remove active class from all nav items and sections
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                document.querySelectorAll('.section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // Add active class to clicked nav item
                this.classList.add('active');
                
                // Show corresponding section after short delay
                setTimeout(() => {
                    const target = this.getAttribute('data-target');
                    document.getElementById(target).classList.add('active');
                    
                    // Scroll to top
                    window.scrollTo(0, 0);
                    
                    // Update portfolio and transactions if we're on the mine page
                    if (target === 'mine') {
                        updatePortfolioList();
                        updateTransactionsList();
                        updateRewardStatus();
                        updateBankAccountDisplay();
                    }
                }, 500);
            });
        });

        // Recharge navigation
        document.querySelector('.nav-recharge').addEventListener('click', function(e) {
            e.preventDefault();
            
            // Remove active class from all nav items and sections
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
            });
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show recharge section after short delay
            setTimeout(() => {
                document.getElementById('recharge').classList.add('active');
                
                // Scroll to top
                window.scrollTo(0, 0);
            }, 500);
        });
        
        // Withdrawal navigation
        document.querySelector('.nav-withdraw').addEventListener('click', function(e) {
            e.preventDefault();
            
            // Remove active class from all nav items and sections
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
            });
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show withdrawal section after short delay
            setTimeout(() => {
                document.getElementById('withdraw').classList.add('active');
                
                // Scroll to top
                window.scrollTo(0, 0);
            }, 500);
        });
        
        // Tab switching
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('.tab').forEach(t => {
                    t.classList.remove('active');
                });
                
                // Add active class to clicked tab
                this.classList.add('active');
                
                // Hide all tab content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                
                // Show corresponding tab content
                const target = this.getAttribute('data-target');
                document.getElementById(`${target}Tab`).classList.add('active');
            });
        });
        
        // Service item click handlers
        document.getElementById('telegramSupport').addEventListener('click', function() {
            window.open('https://t.me/infinityNet77', '_blank');
        });
        
        document.getElementById('customerService').addEventListener('click', function() {
            window.open('https://wa.me/27818535051', '_blank');
        });
        
        document.getElementById('securitySettings').addEventListener('click', function() {
            // Switch to security tab
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelector('.tab[data-target="security"]').classList.add('active');
            document.getElementById('securityTab').classList.add('active');
        });
        
        document.getElementById('bankAccounts').addEventListener('click', function() {
            // Switch to bank tab
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelector('.tab[data-target="bank"]').classList.add('active');
            document.getElementById('bankTab').classList.add('active');
        });
        
        document.getElementById('transactionHistory').addEventListener('click', function() {
            // Switch to transactions tab
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelector('.tab[data-target="transactions"]').classList.add('active');
            document.getElementById('transactionsTab').classList.add('active');
        });
        
        document.getElementById('myRewards').addEventListener('click', function() {
            // Switch to rewards tab
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelector('.tab[data-target="rewards"]').classList.add('active');
            document.getElementById('rewardsTab').classList.add('active');
        });
        
        // Investment button functionality
        document.querySelectorAll('.invest-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const product = this.getAttribute('data-product');
                const price = parseFloat(this.getAttribute('data-price'));
                const dailyIncome = parseFloat(this.getAttribute('data-income'));
                
                // Store current investment for confirmation
                currentInvestment = {
                    product,
                    price,
                    dailyIncome
                };
                
                // Show confirmation modal
                document.getElementById('modalContent').textContent = 
                    `Are you sure you want to purchase ${product} for R${price.toFixed(2)}?`;
                document.getElementById('confirmationModal').style.display = 'flex';
            });
        });
        
        // Confirm investment
        document.getElementById('confirmInvestment').addEventListener('click', function() {
            if (!currentInvestment) return;
            
            const { product, price, dailyIncome } = currentInvestment;
            
            // Hide modal
            document.getElementById('confirmationModal').style.display = 'none';
            
            // Check if user has enough balance
            if (currentUser.balance < price) {
                alert('Insufficient funds! Please recharge your account.');
                return;
            }
            
            // Deduct from balance
            currentUser.balance -= price;
            updateBalanceUI();
            
            // Add to investments
            const purchaseDate = new Date();
            currentUser.investments.push({
                product: product,
                price: price,
                dailyIncome: dailyIncome,
                purchaseDate: purchaseDate.toISOString(),
                lastPayoutTime: purchaseDate.toISOString(),
                daysRemaining: 20
            });
            
            // Update daily stock
            dailyStock.counts[product]++;
            localStorage.setItem(DAILY_STOCK_KEY, JSON.stringify(dailyStock));
            updateDailyStockUI();
            
            // Add transaction
            currentUser.transactions.push({
                type: 'investment',
                amount: price,
                date: purchaseDate.toISOString(),
                product: product
            });
            
            // Update portfolio and transactions
            updatePortfolioList();
            updateTransactionsList();
            updateTeamStats();
            
            // Save user data
            localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
            
            // Show success message
            showNotification(`Successfully purchased ${product}! Daily income: R${dailyIncome.toFixed(2)}`);
            
            // Create profit animation
            const profit = document.createElement('div');
            profit.className = 'profit-animation';
            profit.textContent = `-R${price.toFixed(2)}`;
            document.querySelector('.investment-card:last-child').appendChild(profit);
            
            // Remove animation after it completes
            setTimeout(() => {
                profit.remove();
            }, 4000);
        });
        
        // Cancel investment
        document.getElementById('cancelInvestment').addEventListener('click', function() {
            document.getElementById('confirmationModal').style.display = 'none';
            currentInvestment = null;
        });
        
        // Copy button functionality
        document.getElementById('copyInviteBtn').addEventListener('click', function() {
            // Create visual feedback
            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-check"></i> Copied!';
            this.style.background = 'linear-gradient(to right, #4CAF50, #2E7D32)';
            
            // Copy to clipboard
            const linkText = document.getElementById('invite-link-display').textContent;
            navigator.clipboard.writeText(linkText).then(() => {
                console.log('Link copied to clipboard');
            }).catch(err => {
                console.error('Failed to copy link: ', err);
            });
            
            setTimeout(() => {
                this.innerHTML = originalText;
                this.style.background = 'linear-gradient(to right, #0088ff, #0066cc)';
            }, 2000);
        });

        // Generate new invitation link
        document.getElementById('generateInviteBtn').addEventListener('click', function() {
            const newCode = generateInviteCode();
            currentUser.inviteCode = newCode;
            localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
            document.getElementById('invite-link-display').textContent = generateInviteLink();
            showNotification('New invitation link generated!');
        });

        // Set reference number on page load
        document.getElementById('referenceNumber').textContent = generateInviteCode();

        // Copy bank details button
        document.getElementById('copyBankBtn').addEventListener('click', function() {
            const bankDetails = `Receipt: WHOP\nBank Name: Tymebank Business\nAccount Number: 53002770920\nReference: ${document.getElementById('referenceNumber').textContent}`;
            
            navigator.clipboard.writeText(bankDetails).then(() => {
                // Create visual feedback
                const originalText = this.innerHTML;
                this.innerHTML = '<i class="fas fa-check"></i> Copied!';
                this.style.background = 'linear-gradient(to right, #4CAF50, #2E7D32)';
                
                setTimeout(() => {
                    this.innerHTML = originalText;
                    this.style.background = 'linear-gradient(to right, #0088ff, #0066cc)';
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy bank details: ', err);
            });
        });

        // Recharge form submission
        document.getElementById('submitRecharge').addEventListener('click', function() {
            const amount = parseFloat(document.getElementById('rechargeAmount').value);
            
            if (!amount || amount < 200) {
                alert('Please enter a valid amount (minimum R200)');
                return;
            }
            
            // Show payment confirmation modal
            document.getElementById('paymentConfirmationModal').style.display = 'flex';
        });

        // Payment confirmation
        document.getElementById('paymentConfirm').addEventListener('click', function() {
            const amount = parseFloat(document.getElementById('rechargeAmount').value);
            
            // Hide confirmation modal
            document.getElementById('paymentConfirmationModal').style.display = 'none';
            
            // Hide form and show countdown
            document.querySelector('.recharge-form').style.display = 'none';
            document.getElementById('countdownContainer').style.display = 'block';
            document.getElementById('paidBtn').style.display = 'block';
            
            // Start 1 minute countdown
            let timeLeft = 60;
            const countdownTimer = document.getElementById('countdownTimer');
            
            const countdown = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                countdownTimer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 0) {
                    clearInterval(countdown);
                    document.getElementById('paidBtn').style.display = 'none';
                    countdownTimer.textContent = "Time's up!";
                    countdownTimer.style.color = '#F44336';
                    
                    // Show option to try again
                    setTimeout(() => {
                        document.querySelector('.recharge-form').style.display = 'block';
                        document.getElementById('countdownContainer').style.display = 'none';
                        document.getElementById('rechargeAmount').value = '';
                        document.getElementById('referenceNumber').textContent = generateInviteCode();
                    }, 3000);
                }
            }, 1000);
            
            // Store the countdown interval so we can clear it when payment is confirmed
            this.dataset.countdown = countdown;
        });
        
        // Payment cancel
        document.getElementById('paymentCancel').addEventListener('click', function() {
            document.getElementById('paymentConfirmationModal').style.display = 'none';
        });

        // Paid button functionality
        document.getElementById('paidBtn').addEventListener('click', function() {
            const amount = parseFloat(document.getElementById('rechargeAmount').value);
            
            // Clear the countdown
            clearInterval(document.getElementById('submitRecharge').dataset.countdown);
            
            // Hide countdown and show verification process
            document.getElementById('countdownContainer').style.display = 'none';
            document.getElementById('verificationProcess').style.display = 'block';
            
            // Simulate verification process
            setTimeout(() => {
                // Hide verification process and show success
                document.getElementById('verificationProcess').style.display = 'none';
                document.getElementById('successMessage').style.display = 'block';
                document.getElementById('successAmount').textContent = `R${amount.toFixed(2)} has been added to your account balance.`;
                
                // Update balance
                currentUser.balance += amount;
                currentUser.totalDeposits += amount;
                updateBalanceUI();
                
                // Add transaction
                currentUser.transactions.push({
                    type: 'deposit',
                    amount: amount,
                    date: new Date().toISOString()
                });
                
                // Update transactions
                updateTransactionsList();
                
                // Save user data
                localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
                
                // Show success animation
                const profit = document.createElement('div');
                profit.className = 'profit-animation';
                profit.textContent = `+R${amount.toFixed(2)}`;
                document.querySelector('.user-info').appendChild(profit);
                
                // Remove animation after it completes
                setTimeout(() => {
                    profit.remove();
                }, 4000);
                
                // After 3 seconds, reset the form
                setTimeout(() => {
                    document.querySelector('.recharge-form').style.display = 'block';
                    document.getElementById('successMessage').style.display = 'none';
                    document.getElementById('rechargeAmount').value = '';
                    document.getElementById('referenceNumber').textContent = generateInviteCode();
                }, 3000);
            }, 3000);
        });
        
        // Withdrawal amount calculation
        document.getElementById('withdrawAmount').addEventListener('input', function() {
            const amount = parseFloat(this.value) || 0;
            const fee = amount * 0.17;
            const netAmount = amount - fee;
            
            document.getElementById('withdrawalFee').textContent = `R${fee.toFixed(2)}`;
            document.getElementById('netAmount').textContent = `R${netAmount.toFixed(2)}`;
        });
        
        // Withdrawal functionality
        document.getElementById('submitWithdraw').addEventListener('click', function() {
            const amount = parseFloat(document.getElementById('withdrawAmount').value);
            
            if (!amount || amount < 100) {
                showNotification('Minimum withdrawal amount is R100', 'error');
                return;
            }
            
            if (!currentUser.bankAccount) {
                showNotification('Please bind your bank account first', 'error');
                return;
            }
            
            if (currentUser.balance < amount) {
                showNotification('Insufficient funds for withdrawal', 'error');
                return;
            }
            
            // Check if user has purchased any package
            if (currentUser.investments.length === 0) {
                showNotification('Only members who have purchased a package can withdraw funds', 'error');
                return;
            }
            
            // Calculate fee and net amount
            const fee = amount * 0.17;
            const netAmount = amount - fee;
            
            // Deduct from balance
            currentUser.balance -= amount;
            currentUser.totalWithdrawals += amount;
            updateBalanceUI();
            
            // Add transaction
            currentUser.transactions.push({
                type: 'withdrawal',
                amount: amount,
                date: new Date().toISOString(),
                fee: fee,
                netAmount: netAmount
            });
            
            // Add withdrawal bonus to inviter
            if (currentUser.invitedBy) {
                const inviter = users.find(u => u.phone === currentUser.invitedBy);
                if (inviter) {
                    // Add R17 bonus
                    inviter.balance += 17;
                    inviter.totalEarnings += 17;
                    
                    // Add transaction for inviter
                    inviter.transactions.push({
                        type: 'bonus',
                        amount: 17,
                        date: new Date().toISOString(),
                        description: `Withdrawal bonus from ${currentUser.phone}`
                    });
                    
                    // Save users
                    localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
                    
                    // If the inviter is logged in, update their UI
                    if (currentUser.phone === inviter.phone) {
                        updateBalanceUI();
                        updateTransactionsList();
                    }
                }
            }
            
            // Update transactions
            updateTransactionsList();
            
            // Save user data
            localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
            
            // Send WhatsApp notification to admin
            const whatsappMessage = `Withdrawal Request:%0AUser: ${currentUser.phone}%0AAmount: R${amount.toFixed(2)}%0ABank: ${currentUser.bankAccount.bank}%0AAccount Number: ${currentUser.bankAccount.accountNumber}%0AAccount Holder: ${currentUser.bankAccount.name}%0ANet Amount: R${netAmount.toFixed(2)}`;
            const whatsappUrl = `https://wa.me/27818535051?text=${encodeURIComponent(whatsappMessage)}`;
            
            // Open WhatsApp in new tab
            window.open(whatsappUrl, '_blank');
            
            // Show success message
            document.getElementById('withdrawSuccessDetails').textContent = `Your withdrawal request for R${amount.toFixed(2)} has been submitted. You will receive R${netAmount.toFixed(2)} after fees.`;
            document.getElementById('withdrawSuccessMessage').style.display = 'block';
            
            // Hide form
            document.querySelector('.withdraw-form').style.display = 'none';
            
            // Reset after 5 seconds
            setTimeout(() => {
                document.getElementById('withdrawSuccessMessage').style.display = 'none';
                document.querySelector('.withdraw-form').style.display = 'block';
                document.getElementById('withdrawAmount').value = '';
                document.getElementById('withdrawalFee').textContent = 'R0.00';
                document.getElementById('netAmount').textContent = 'R0.00';
            }, 5000);
        });
        
        // Update balance UI
        function updateBalanceUI() {
            document.getElementById('user-balance').textContent = `R${currentUser.balance.toFixed(2)}`;
            document.getElementById('total-deposit').textContent = `R${currentUser.totalDeposits.toFixed(2)}`;
            document.getElementById('total-withdrawal').textContent = `R${currentUser.totalWithdrawals.toFixed(2)}`;
            document.getElementById('total-earnings').textContent = `R${currentUser.totalEarnings.toFixed(2)}`;
        }
        
        // Update daily stock UI
        function updateDailyStockUI() {
            for (const product in dailyStock.counts) {
                const element = document.getElementById(`stock-${product.toLowerCase().replace(' ', '')}`);
                if (element) {
                    element.textContent = dailyStock.counts[product];
                }
            }
        }
        
        // Update portfolio list
        function updatePortfolioList() {
            const container = document.getElementById('portfolioList');
            container.innerHTML = '';
            
            if (currentUser.investments.length === 0) {
                container.innerHTML = '<div class="no-items">No active investments</div>';
                return;
            }
            
            currentUser.investments.forEach(investment => {
                const investmentElement = document.createElement('div');
                investmentElement.className = 'portfolio-item';
                
                // Calculate days since purchase and days left
                const purchaseDate = new Date(investment.purchaseDate);
                const today = new Date();
                const daysPassed = Math.floor((today - purchaseDate) / (1000 * 60 * 60 * 24));
                const daysLeft = Math.max(0, 20 - daysPassed);
                
                // Calculate total earned so far (daysPassed * dailyIncome, but not more than total income)
                const totalEarned = Math.min(daysPassed * investment.dailyIncome, 20 * investment.dailyIncome);
                
                investmentElement.innerHTML = `
                    <div class="portfolio-info">
                        <div class="portfolio-name">${investment.product}</div>
                        <div class="portfolio-meta">
                            <span><i class="fas fa-calendar-alt"></i> ${formatDate(purchaseDate)}</span>
                            <span><i class="fas fa-clock"></i> ${daysLeft} days left</span>
                        </div>
                    </div>
                    <div class="portfolio-stats">
                        <div class="portfolio-income">R${investment.dailyIncome.toFixed(2)}/day</div>
                        <div class="portfolio-duration">Earned: R${totalEarned.toFixed(2)}</div>
                    </div>
                `;
                
                container.appendChild(investmentElement);
            });
        }
        
        // Update transactions list
        function updateTransactionsList() {
            const container = document.getElementById('transactionsList');
            container.innerHTML = '';
            
            if (currentUser.transactions.length === 0) {
                container.innerHTML = '<div class="no-items">No transactions yet</div>';
                return;
            }
            
            // Sort transactions by date (newest first)
            const transactions = [...currentUser.transactions].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            transactions.forEach(transaction => {
                const transactionElement = document.createElement('div');
                transactionElement.className = 'transaction-item';
                
                let icon, typeText, amountSign, amountClass;
                
                if (transaction.type === 'deposit') {
                    icon = 'fas fa-arrow-circle-down';
                    typeText = 'Deposit';
                    amountSign = '+';
                    amountClass = 'deposit';
                } else if (transaction.type === 'withdrawal') {
                    icon = 'fas fa-arrow-circle-up';
                    typeText = 'Withdrawal';
                    amountSign = '-';
                    amountClass = 'withdrawal';
                    
                    // Add fee information to withdrawal
                    typeText += ` (Fee: R${transaction.fee.toFixed(2)})`;
                } else if (transaction.type === 'bonus') {
                    icon = 'fas fa-gift';
                    typeText = transaction.description || 'Bonus';
                    amountSign = '+';
                    amountClass = 'deposit';
                } else if (transaction.type === 'income') {
                    icon = 'fas fa-coins';
                    typeText = 'Daily Income';
                    amountSign = '+';
                    amountClass = 'deposit';
                } else {
                    icon = 'fas fa-shopping-cart';
                    typeText = 'Investment';
                    amountSign = '-';
                    amountClass = 'investment';
                }
                
                transactionElement.innerHTML = `
                    <div class="transaction-info">
                        <div class="transaction-icon ${transaction.type === 'bonus' || transaction.type === 'income' ? 'deposit' : transaction.type}">
                            <i class="${icon}"></i>
                        </div>
                        <div class="transaction-details">
                            <div class="transaction-type">${typeText}</div>
                            <div class="transaction-date">${formatDate(new Date(transaction.date))}</div>
                        </div>
                    </div>
                    <div class="transaction-amount ${transaction.type === 'bonus' || transaction.type === 'income' ? 'deposit' : transaction.type}">${amountSign}R${transaction.amount.toFixed(2)}</div>
                `;
                
                container.appendChild(transactionElement);
            });
        }
        
        // Update downliners list
        function updateDownlinersList() {
            const container = document.getElementById('downliners-list');
            container.innerHTML = '';
            
            if (!currentUser.downliners || currentUser.downliners.length === 0) {
                container.innerHTML = '<div class="history-item"><span>No downliners yet</span></div>';
                return;
            }
            
            currentUser.downliners.forEach(phone => {
                const downlinerElement = document.createElement('div');
                downlinerElement.className = 'history-item';
                downlinerElement.innerHTML = `
                    <span>${phone}</span>
                    <span>Active Member</span>
                `;
                container.appendChild(downlinerElement);
            });
        }
        
        // Format date to readable string
        function formatDate(date) {
            return date.toLocaleDateString('en-ZA', {
                day: '2-digit',
                month: 'short',
                year: 'numeric'
            }) + ' ' + date.toLocaleTimeString('en-ZA', {
                hour: '2-digit',
                minute: '2-digit'
            });
        }
        
        // Update reward status and countdown
        function updateRewardStatus() {
            const now = new Date();
            const currentHour = now.getHours();
            const currentMinutes = now.getMinutes();
            
            const rewardBtn = document.getElementById('claimRewardBtn');
            const rewardTimeStatus = document.getElementById('rewardTimeStatus');
            const rewardCountdown = document.getElementById('rewardCountdown');
            
            // Check if reward is available (between 13:00 and 13:30)
            if (currentHour === 13 && currentMinutes >= 0 && currentMinutes <= 30) {
                // Reward time window is open
                if (currentUser.investments.length > 0 && !currentUser.rewardClaimedToday) {
                    // User is eligible to claim reward
                    rewardBtn.disabled = false;
                    rewardTimeStatus.textContent = "Reward available now!";
                    rewardCountdown.textContent = "";
                } else if (currentUser.investments.length === 0) {
                    // User hasn't purchased any product
                    rewardBtn.disabled = true;
                    rewardTimeStatus.textContent = "Purchase any product to claim rewards";
                    rewardCountdown.textContent = "";
                } else if (currentUser.rewardClaimedToday) {
                    // User already claimed reward today
                    rewardBtn.disabled = true;
                    rewardTimeStatus.textContent = "Reward already claimed today";
                    rewardCountdown.textContent = "";
                }
            } else {
                // Reward time window is closed
                rewardBtn.disabled = true;
                
                // Calculate time until next reward window (13:00 next day)
                let nextRewardDate = new Date();
                if (nextRewardDate.getHours() >= 13 && nextRewardDate.getMinutes() > 30) {
                    nextRewardDate.setDate(nextRewardDate.getDate() + 1);
                }
                nextRewardDate.setHours(13, 0, 0, 0);
                
                // Update detailed countdown
                updateDetailedCountdown(nextRewardDate);
            }
        }
        
        // Update detailed countdown
        function updateDetailedCountdown(targetDate) {
            const now = new Date();
            const diff = targetDate - now;
            
            if (diff <= 0) {
                updateRewardStatus();
                return;
            }
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            document.getElementById('countdown-days').textContent = days.toString().padStart(2, '0');
            document.getElementById('countdown-hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('countdown-minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('countdown-seconds').textContent = seconds.toString().padStart(2, '0');
            
            // Update every second
            setTimeout(() => updateDetailedCountdown(targetDate), 1000);
        }
        
        // Claim reward button functionality
        document.getElementById('claimRewardBtn').addEventListener('click', function() {
            if (currentUser.investments.length === 0 || currentUser.rewardClaimedToday) return;
            
            // Generate random reward between R1 and R50
            const rewardAmount = Math.floor(Math.random() * 50) + 1;
            
            // Add reward to balance
            currentUser.balance += rewardAmount;
            currentUser.totalEarnings += rewardAmount;
            updateBalanceUI();
            
            // Mark reward as claimed
            currentUser.rewardClaimedToday = true;
            
            // Add transaction
            currentUser.transactions.push({
                type: 'bonus',
                amount: rewardAmount,
                date: new Date().toISOString(),
                description: 'Daily Reward'
            });
            
            // Update transactions
            updateTransactionsList();
            
            // Save user data
            localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
            
            // Show reward result
            const rewardResult = document.getElementById('rewardResult');
            rewardResult.textContent = `Congratulations! You received R${rewardAmount.toFixed(2)}`;
            rewardResult.style.display = 'block';
            
            // Disable button
            this.disabled = true;
            
            // Update status message
            document.getElementById('rewardTimeStatus').textContent = "Reward claimed successfully!";
            
            // Show animation
            const profit = document.createElement('div');
            profit.className = 'profit-animation';
            profit.textContent = `+R${rewardAmount.toFixed(2)} Reward`;
            document.querySelector('.reward-section').appendChild(profit);
            
            // Remove after animation
            setTimeout(() => {
                profit.remove();
            }, 4000);
        });
        
        // Bind bank account functionality
        document.getElementById('bindBankBtn').addEventListener('click', function() {
            const accountName = document.getElementById('accountName').value.trim();
            const bankName = document.getElementById('bankName').value;
            const accountNumber = document.getElementById('accountNumber').value.trim();
            
            if (!accountName || !bankName || !accountNumber) {
                alert('Please fill in all bank account details');
                return;
            }
            
            if (!/^\d+$/.test(accountNumber)) {
                alert('Account number should contain only numbers');
                return;
            }
            
            // Save bank account details
            currentUser.bankAccount = {
                name: accountName,
                bank: bankName,
                accountNumber: accountNumber
            };
            
            // Save user data
            localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
            
            // Update display
            updateBankAccountDisplay();
            
            // Show success message
            showNotification('Bank account successfully bound!');
        });
        
        // Update bank account display
        function updateBankAccountDisplay() {
            const display = document.getElementById('bankDetailsDisplay');
            
            if (currentUser.bankAccount) {
                document.getElementById('displayName').textContent = currentUser.bankAccount.name;
                document.getElementById('displayBank').textContent = currentUser.bankAccount.bank;
                document.getElementById('displayAccountNumber').textContent = currentUser.bankAccount.accountNumber;
                display.style.display = 'block';
                
                // Clear form fields
                document.getElementById('accountName').value = '';
                document.getElementById('bankName').value = '';
                document.getElementById('accountNumber').value = '';
            } else {
                display.style.display = 'none';
            }
        }
        
        // Update password functionality
        document.getElementById('updatePasswordBtn').addEventListener('click', function() {
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (!currentPassword || !newPassword || !confirmPassword) {
                alert('Please fill in all password fields');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                alert('New passwords do not match');
                return;
            }
            
            if (newPassword.length < 6) {
                alert('Password should be at least 6 characters long');
                return;
            }
            
            if (currentPassword !== currentUser.password) {
                alert('Current password is incorrect');
                return;
            }
            
            // Update password
            currentUser.password = newPassword;
            
            // Save user data
            localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(users));
            
            // Show success message
            const successMsg = document.getElementById('passwordSuccessMessage');
            successMsg.style.display = 'block';
            
            // Clear form fields
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
            
            // Hide message after 3 seconds
            setTimeout(() => {
                successMsg.style.display = 'none';
            }, 3000);
        });
        
        // Logout functionality
        function logoutUser() {
            // Clear session
            localStorage.removeItem(SESSION_KEY);
            
            // Reset current user
            currentUser = null;
            
            // Hide dashboard and show login
            document.getElementById('dashboardContainer').style.display = 'none';
            document.getElementById('authContainer').classList.remove('hidden');
            
            // Show login form
            document.querySelectorAll('.toggle-btn').forEach(btn => btn.style.display = 'flex');
            document.querySelector('[data-target="login-form"]').click();
        }
        
        // Logout button
        document.getElementById('logoutBtn').addEventListener('click', logoutUser);
        document.getElementById('logoutService').addEventListener('click', logoutUser);
        
        // Notification system
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationContent = document.getElementById('notification-content');
            
            notificationContent.textContent = message;
            
            // Set icon based on type
            const icon = notification.querySelector('i');
            if (type === 'success') {
                icon.className = 'fas fa-check-circle';
                notification.className = 'notification show';
            } else {
                icon.className = 'fas fa-exclamation-circle';
                notification.className = 'notification error show';
            }
            
            // Auto-hide after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Close notification
        document.getElementById('close-notification').addEventListener('click', function() {
            document.getElementById('notification').classList.remove('show');
        });
        
        // Update team stats
        function updateTeamStats() {
            let teamSize = 0;
            let activeToday = 0;
            let teamInvestment = 0;
            let teamEarnings = 0;
            let myCommission = 0;
            
            if (currentUser.downliners && currentUser.downliners.length > 0) {
                teamSize = currentUser.downliners.length;
                
                // Calculate stats for downliners
                currentUser.downliners.forEach(phone => {
                    const downliner = users.find(u => u.phone === phone);
                    if (downliner) {
                        // Active today (has made an investment today)
                        const today = new Date().toISOString().split('T')[0];
                        const hasInvestmentToday = downliner.investments.some(inv => {
                            return inv.purchaseDate.split('T')[0] === today;
                        });
                        
                        if (hasInvestmentToday) {
                            activeToday++;
                        }
                        
                        // Team investment
                        downliner.investments.forEach(inv => {
                            teamInvestment += inv.price;
                        });
                        
                        // Team earnings (simplified as sum of all investments)
                        teamEarnings += teamInvestment;
                        
                        // My commission (R33 per active member)
                        if (downliner.investments.length > 0) {
                            myCommission += 33;
                        }
                    }
                });
            }
            
            // Update UI
            document.getElementById('team-size').textContent = teamSize;
            document.getElementById('active-today').textContent = activeToday;
            document.getElementById('team-investment').textContent = `R${teamInvestment.toFixed(2)}`;
            document.getElementById('team-earnings').textContent = `R${teamEarnings.toFixed(2)}`;
            document.getElementById('my-commission').textContent = `R${myCommission.toFixed(2)}`;
        }
        
        // Manage team button
        document.getElementById('manage-team-btn').addEventListener('click', function() {
            // Hide team section and show team management
            document.getElementById('team').style.display = 'none';
            document.getElementById('team-management').style.display = 'block';
            
            // Populate active and inactive members
            updateTeamManagementLists();
        });
        
        // Back to team overview
        document.getElementById('back-to-team').addEventListener('click', function() {
            document.getElementById('team-management').style.display = 'none';
            document.getElementById('team').style.display = 'block';
        });
        
        // Update team management lists
        function updateTeamManagementLists() {
            const activeList = document.getElementById('active-members-list');
            const inactiveList = document.getElementById('inactive-members-list');
            
            activeList.innerHTML = '';
            inactiveList.innerHTML = '';
            
            if (!currentUser.downliners || currentUser.downliners.length === 0) {
                activeList.innerHTML = '<div class="no-items">No active members</div>';
                inactiveList.innerHTML = '<div class="no-items">No inactive members</div>';
                return;
            }
            
            currentUser.downliners.forEach(phone => {
                const downliner = users.find(u => u.phone === phone);
                if (downliner) {
                    const memberElement = document.createElement('div');
                    memberElement.className = 'team-member';
                    
                    const totalInvestment = downliner.investments.reduce((sum, inv) => sum + inv.price, 0);
                    
                    memberElement.innerHTML = `
                        <div class="member-info">
                            <span>${phone}</span>
                            <span class="member-status ${downliner.investments.length > 0 ? 'status-active' : 'status-inactive'}">
                                ${downliner.investments.length > 0 ? 'Active' : 'Inactive'}
                            </span>
                        </div>
                        <div class="member-investment">R${totalInvestment.toFixed(2)}</div>
                    `;
                    
                    if (downliner.investments.length > 0) {
                        activeList.appendChild(memberElement);
                    } else {
                        inactiveList.appendChild(memberElement);
                    }
                }
            });
            
            if (activeList.children.length === 0) {
                activeList.innerHTML = '<div class="no-items">No active members</div>';
            }
            
            if (inactiveList.children.length === 0) {
                inactiveList.innerHTML = '<div class="no-items">No inactive members</div>';
            }
        }
        
        // AI Assistant functionality
        document.getElementById('aiButton').addEventListener('click', function() {
            const chatbox = document.getElementById('aiChatbox');
            chatbox.style.display = chatbox.style.display === 'flex' ? 'none' : 'flex';
        });
        
        document.getElementById('aiSend').addEventListener('click', function() {
            const input = document.getElementById('aiInput');
            const message = input.value.trim();
            
            if (message) {
                // Add user message
                addAIMessage(message, 'user');
                
                // Process message
                processAIMessage(message);
                
                // Clear input
                input.value = '';
            }
        });
        
        document.getElementById('aiInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('aiSend').click();
            }
        });
        
        function addAIMessage(message, sender) {
            const messagesContainer = document.getElementById('aiMessages');
            const messageElement = document.createElement('div');
            messageElement.className = `ai-message ${sender}`;
            messageElement.textContent = message;
            messagesContainer.appendChild(messageElement);
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        function processAIMessage(message) {
            let response = "I'm sorry, I didn't understand that. How can I assist you?";
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('recharge') || lowerMessage.includes('deposit') || lowerMessage.includes('add money')) {
                response = "To recharge your account:\n1. Go to the Recharge section\n2. Enter the amount you want to recharge (minimum R200)\n3. Transfer the amount to the provided bank details with the reference number\n4. Click 'I HAVE PAID' after making the transfer\n\n⚠️ Warning: Only click 'I HAVE PAID' after making the payment, otherwise your account may be blocked.";
            } else if (lowerMessage.includes('withdraw') || lowerMessage.includes('cash out')) {
                response = "To withdraw funds:\n1. Go to the Withdraw section\n2. Enter the amount you want to withdraw (minimum R100)\n3. Ensure you have a bank account bound to your profile\n4. Submit the withdrawal request\n\nNote: Withdrawals take 15-30 minutes to process and have a 17% fee.";
            } else if (lowerMessage.includes('investment') || lowerMessage.includes('package') || lowerMessage.includes('plan')) {
                response = "We offer several investment packages:\n- Spark 1: R200 (R50 daily for 20 days)\n- Spark 2: R350 (R80 daily for 20 days)\n- Spark 3: R500 (R125 daily for 20 days)\n- And more premium packages with higher returns\n\nTo invest, simply select the package you want and confirm the purchase.";
            } else if (lowerMessage.includes('balance') || lowerMessage.includes('fund')) {
                response = "Your current balance is displayed at the top of the 'Mine' section. You can see your total deposits, withdrawals, and earnings there.";
            } else if (lowerMessage.includes('team') || lowerMessage.includes('referral') || lowerMessage.includes('downline')) {
                response = "You can view and manage your team in the 'Team' section. You'll see your team size, active members, and your commission earnings there. You earn R32 for each new member you refer who signs up with your invitation code.";
            } else if (lowerMessage.includes('help') || lowerMessage.includes('support')) {
                response = "For additional support:\n- Contact our customer service via WhatsApp: +27 81 853 5051\n- Join our Telegram group: t.me/infinityNet77\n- Email us at support@teslamata.xyz";
            } else if (lowerMessage.includes('bonus') || lowerMessage.includes('reward')) {
                response = "You can claim daily rewards between 13:00 and 13:30 in the 'Rewards' tab under 'Mine'. Rewards range from R1 to R50. You also earn bonuses from your team's activities.";
            } else if (lowerMessage.includes('my investment') || lowerMessage.includes('my packages') || lowerMessage.includes('what i bought')) {
                if (currentUser && currentUser.investments.length > 0) {
                    response = "You have the following active investments:\n";
                    currentUser.investments.forEach(inv => {
                        response += `- ${inv.product}: Purchased on ${formatDate(new Date(inv.purchaseDate))}, Daily Income: R${inv.dailyIncome.toFixed(2)}, Days Left: ${inv.daysRemaining}\n`;
                    });
                } else {
                    response = "You don't have any active investments yet.";
                }
            }
            
            // Simulate typing delay
            setTimeout(() => {
                addAIMessage(response, 'bot');
            }, 1000);
        }
        
        // Check for remembered login
        window.addEventListener('DOMContentLoaded', () => {
            initDashboard();
            
            // Simulate crypto ticker updates
            setInterval(() => {
                const items = document.querySelectorAll('.ticker-item');
                items.forEach(item => {
                    const change = (Math.random() - 0.5) * 3;
                    const isPositive = change >= 0;
                    const value = parseFloat(item.textContent.match(/\d+\.\d+/)[0]);
                    const newValue = value * (1 + change/100);
                    
                    item.querySelector('.crypto-name').nextSibling.nodeValue = ` $${newValue.toFixed(isPositive ? 0 : 2)} `;
                    
                    const changeEl = item.querySelector('.up, .down');
                    changeEl.textContent = `${isPositive ? '▲' : '▼'} ${Math.abs(change).toFixed(1)}%`;
                    changeEl.className = isPositive ? 'up' : 'down';
                });
            }, 5000);
            
            // Update reward status every second
            setInterval(updateRewardStatus, 1000);
            
            // Check for daily income every minute
            setInterval(checkAndCreditDailyIncome, 60000);
            
            // Auto-fill invitation code from URL
            const urlParams = new URLSearchParams(window.location.search);
            const inviteCode = urlParams.get('ref');
            if (inviteCode) {
                document.getElementById('invitation-code').value = inviteCode;
            }
        });
    </script>
</body>
</html>